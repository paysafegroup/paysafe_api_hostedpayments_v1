FORMAT: 1A
HOST: https://api.test.netbanx.com/hosted/

# Paysafe Hosted Payments API

# Release Notes

| Version | Date | Details |
|---      |---  |---      |
|1.3.12 | May 2019 | <p>Added fields to support 3D Secure 2.</p> |
|1.3.11 | May 2018 | <p>Removed poli payment method.</p> |
|1.3.10 |March 2018| <p>Added merchantDescriptor object.</p> |
|1.3.9  |January 2018| <p>Added supplierDetails object.</p> |
|1.3.8  |December 2017| <ul><li>Removed Unionpay, Prepaid card, PayNearMe, Ideal and Pingit functionality that hadn't been removed</li><li>Removed Threatmetrix appendix and inserted it into the Dev Center</li></ul>|
|1.3.7  |April 2017| <p>Unionpay, Prepaid card, PayNearMe, Ideal and Pingit functionality removed</p> |
|1.3.6  |May 2016   |<p>MasterPass functionality removed</p> |
| 1.3.5 | October 2015 | <p>Added functionality for China UnionPay</li><li>Ukash functionality removed</p> |
| 1.3.4 | January 2015 | <p>Added functionality for Pingit</p>|
| 1.3.3 | October 2014 | <ul><li>Added *accordD* functionality for select merchants</li><li>Added *oct* as an *authType* for Original Credit requests</li></ul>|
| 1.3.2 | May 2014 | <ul><li>Added authCode parameter to order status response table and to Return Keys appendix</li><li>Updated HTML example in ThreatMetrix appendix</li><li>Added functionality for Giropay, NETELLER, PayPal, Sofort Banking and Ukash</li><li>Updated extended options key/value pairs table</li><li>Updated values for transaction.status parameter</li></ul>|
| 1.3.1 | February 2014 | <ul><li>Added MasterPass functionality</li><li>Updated extended options key/value pairs table</li></ul>|
| 1.3 | October 2013 | <ul><li>Updated extended options key/value pairs table</li><li>Added section for rebilling with a profile</li><li>Added silent post for prepaid cards</li><li>Added ThreatMetrix appendix</li><li>Add optional delimiter for redirects and callbacks</li><li>Corrected rebill examples to include currencyCode</li><li>Added error message for updating a transaction</li><li>Added orderTimeout extended option and error message</li></ul>|
| 1.2 | May 2013 | <ul><li>Updated Return Keys appendix</li><li>Added Test and Production URLs section</li><li>Added section for updating an order</li><li>Removed Order/Response Examples appendix</li><li>Added section for rebilling</li><li>Added parameters to shipping details table</li><li>Added parameters to order status response table</li><li>Updated error response table</li><li>Added four appendices</li><li>Updated extended options key/value pairs table</li></ul>|
| 1.1 | March 2013 | <ul><li>Added customer profiles</li><li>Added mobile functionality</li><li>Added return keys table</li><li>Added key/value pairs</li></ul>|
| 1.0 | January 2013 | <p>Document release</p>|

<a name="overview" title="Overview"></a>
# Overview

The API is a RESTful interface for making secure payments by way of your e-commerce site. The REST API works with JSON messages and responses.
* With the API, your customer can pay securely using a PCI-compliant hosted payment page.
* By using a payment page hosted by Paysafe, sensitive payment information such as credit card numbers is handled by Paysafe.
* The Paysafe payment page helps reduce the overhead of PCI audit requirements and its associated costs.

The API does not allow merchants to pass card data. If you wish your e-commerce site to collect and pass card data, then you need to use the [Paysafe Card Payments API](https://developer.paysafe.com/en/rest-apis/cards/getting-started/introduction-to-card-payments/)
and comply with PCI guidelines regarding the handling of card data.

**Note:** Paysafe may add additional elements in future releases of this API, so ensure that your integration is flexible enough to ignore any unrecognized response fields.

![Hosted Checkout Flow](https://developer.paysafe.com/fileadmin/flarecontent/devcentre/Content/Resources/Images/HostedAPIOverview_Hosted__Paysafe.png)

<a name="authentication" title="Authentication"></a>
# Authentication

In order for you to use the Paysafe REST API, Paysafe must first set you up on their system and provide you with an API key. Your API key looks something like this:

  * Key Username – MerchantXYZ
  * Key Password – B-tst1-0-51ed39e4-312d02345d3f123120881dff9bb4020a89e8ac44cdfdcecd702151182fdc952272661d290ab2e5849e31bb03deede7e
Note this is not the same as your Merchant Back Office username and password.ed  
The case-sensitive API key is sent using HTTP Basic Authentication. To use HTTP Basic Authentication, you must send the API key credentials using the Authorization header with every request. The Authorization header is constructed as follows:

1. The Key Username and Key Password are combined into a string separated by a colon, e.g.,“Key Username:Key Password”.

2. The resulting string literal is then encoded using Base64.

3. The authorization method and a space (i.e., “Basic”) are then put before the encoded string.

For example, using the Key Username and Password examples above, the header is formed as follows:

``Authorization: Basic
TWVyY2hhbnRYWVo6Qi10c3QxLTAtNTFlZDM5ZTQtMzEyZDAyMzQ1ZDNmMTIzMTIwODgxZGZmOWJiNDAyMGE4OWU4YWM0NGNkZmRjZWNkNzAyMTUxMTgyZmRjOTU yMjcyNjYxZDI5MGFiMmU1ODQ5ZTMxYmIwM2RlZWRlN2U=``

For additional details, please refer to [http://en.wikipedia.org/wiki/Basic_access_authentication](http://en.wikipedia.org/wiki/Basic_access_authentication).

**Note:** Your Production API key will be different from your Test API key. Contact your account manager for details. You must keep your API keys safe and ensure that it is used appropriately for your needs.

<a name="urls" title="URLs"></a>
# URLs 

<a name="testurl" title="Test URL"></a>
##  Test URL
In order to test your integration with Paysafe, use the following Test URL:

`https://api.test.netbanx.com`

For example:

`https://api.test.netbanx.com/hosted/v1/orders/{ORDER_ID}`

<a name="productionurl" title="Production URL"></a>
## Production URL
In order to process live requests with Paysafe, use the following Production URL:

`https://api.netbanx.com`

For example:

`https://api.netbanx.com/hosted/v1/orders/{ORDER_ID}`

<a name="api" title="API"></a>
# API 

The Hosted Payments API allows merchants to process orders using the REST protocol. The protocol uses JSON for all requests and responses.

The following request types are supported:

  * [Orders](#orders)
  * [Settlements](#settlements)
  * [Refunds](#refunds)
  * [Original Credits](#originalcredits)

<a name="getting_started" title="Getting Started"></a>
# Getting Started

The Hosted Payments API handles the collection and storage of sensitive customer payment information, significantly reducing your PCI DSS compliance requirements. Click [here](https://developer.paysafe.com/en/classic-apis/hosted-payments/using-the-api/scenarios/) for descriptions of the main scenarios.

<a name="silent-post-considerations" title="Silent Post Considerations"></a>
# Silent Post Considerations

When a [Silent Post order](#process-an-order-silent-post) (also known as Direct Post) is processed, additional, customer payment parameters specific to the *paymentMethod* selected in the order (see [Order Object](#order-object)) may need to be sent to Paysafe. 

The following payment methods require no additional parameters, because the redirect occurs immediately without an intermediate page being displayed:

*   interac
*   paypal

The following payment methods, however, do require additional parameters:

*   [Silent Post for Customer Profile](#silent-post-for-customer-profile)
*   [Silent Post for Giropay](#silent-post-for-giropay)
*   [Silent Post for NETELLER](#silent-post-for-neteller)
*   [Silent Post for Sofort Banking](#silent-post-for-sofort-banking)

<a name="silent-post-for-customer-profile" title="Silent Post for Customer Profile"></a>
##Silent Post for Customer Profile

If a customer profile has been created, you may be able to submit fewer parameters with a [Silent Post order](#process-an-order-silent-post) (also known as Direct Post). 

*   If a valid *profile.id* and *profile.paymentToken* have been captured from the order request, then only a value for *cvdNumber* in the Silent Post is required. 
*   If a valid *profile.id* (but no *profile.paymentToken*) has been captured from the order request, then all values for a standard credit card Silent Post (see [Process an Order with a Silent Post](#process-an-order-silent-post)) must be included. In this case, an additional *profile.paymentToken* will be assigned to the *profile.id* and returned in the order response (see [Order Status Response Parameters](#order-status-response-parameters)). This new token can then be used in future requests (i.e., a single *profile.id* can have multiple *profile.paymentToken* instances assigned to it).

<a name="silent-post-for-giropay" title="Silent Post for Giropay"></a>
##Silent Post for Giropay

To process a [Silent Post order](#process-an-order-silent-post) using *giropay* as the *paymentMethod*, the fields in the following table must be provided in the POST to the *hosted\_payment* URL that was received in the order response. 

| Field | Type | Required | Description |
|---    |---   |--- |--- |
| nbx_customerBIC  |string |Yes| This is the customer’s Bank Identifier Code (BIC).|
| nbx_customerIBAN | string|Yes|This is the customer’s International Bank Account Number (IBAN).|

**Note:** Please consult Giropay documentation for field length constraints

<a name="silent-post-for-neteller" title="Silent Post for Neteller"></a>
##Silent Post for Neteller

To process a [Silent Post order](#process-an-order-silent-post) using *neteller* as the *paymentMethod*, the fields in the following table must be provided in the POST to the *hosted\_payment* URL that was received in the order response. 

| Field | Type | Required | Description |
|---    |---   |--- |--- |
|netAccount |integer|Yes|This is the NETELLER account ID.|
|secureId |integer|Yes|This is the password for the NETELLER account.|

**Note:** Please consult NETELLER documentation for field length constraints.

<a name="silent-post-for-sofort-banking" title="Silent Post for Sofort Banking"></a>
##Silent Post for Sofort Banking
To process a [Silent Post order](#process-an-order-silent-post) using *sofort* as the *paymentMethod*, the fields in the following table must be provided in the POST to the *hosted\_payment* URL that was received in the order response. 

| Field | Type | Required | Description |
|---    |---   |--- |--- |
| senderHolder | string | Yes | This is the name of the account owner.  |
| senderBankBIC | string | Yes | This is the Bank Identifier Code of the account. |
| senderIBAN | string | Yes | This is the International Bank Account Number for the account.  |
| senderCountryID | string | Yes | The is the account owner’s country. See [Country Codes](#country-codes). |

**Note:** Please consult Sofort Banking documentation for field length constraints

<a name="payment-method-notes" title="Payment Method Notes"></a>
# Payment Method Notes
This table provides the following additional information on each payment method:

*   Whether the merchant account needs to be configured by Paysafe in order to accept the payment type
*   Whether the Hosted Payments API can be used to issue refunds via the payment method
*   Additional notes, where applicable

| Payment Method | Supported Currencies | Configure Merchant Account | Process Refunds | Notes |
|--- |--- |--- |--- |--- |
| card | All currencies supported by Paysafe | No | Yes |
| giropay | EUR | Yes | No  |
| interac | CAD | Yes | Yes |
| neteller | All currencies supported by NETELLER &ndash; refer to NETELLER documentation for details. | Yes | Yes |
| paypal | All currencies supported by Paypal &ndash; refer to Paypal documentation for details | Yes | Yes |
| sofortbanking | EUR | Yes | No |

<a name="testing_instructions" title="Testing Instructions"></a>
# Testing Instructions

The Paysafe Test environment can be used to test websites or applications without actually running transactions through a live Hosted Payments service. It is important to make sure that your systems are working correctly before going into a live environment. Click [here](https://developer.paysafe.com/en/classic-apis/hosted-payments/test-and-go-live/testing-instructions/) for details of how to use the test environment.
See [our test card section](https://developer.paysafe.com/en/rest-apis/cards/test-and-go-live/test-cards/) for cards you can use in our test environment.

<a name="iso_standards" title="ISO Standards"></a>
# ISO Standards

<a name="currency-codes" title="Currency Codes"></a>
## Currency Codes

**Note:**
 * The table below lists the currencies in which transaction requests are processed, but note that they may be settled in a different currency. 
 * Not all currencies are supported by all banks. Contact your account manager for more information about which currencies are supported for your merchant account.

|**Currency** |**Code** |
|--- |--- |
|Argentine Peso |ARS |
|Australian Dollar  |AUD |
|Azerbaijanian Manat    |AZN |
|Bahraini Dinar |BHD  |
|Belarusian Ruble   |BYR  |
|Bolivian Boliviano |BOB  |
|Bosnia and Herzegovina Convertible Mark |BAM  |
|Brazilian Real |BRL  |
|Bulgarian Lev  |BGN  |
|Canadian Dollar    |CAD  |
|Chilean Peso   |CLP  |
|China Yuan Renminbi    |CNY  |
|Columbian Peso |COP  |
|Costa Rican Colon  |CRC  |
|Croatian Kuna  |HRK  |
|Czech Koruna   |CZK  |
|Danish Krone   |DKK  |
|Dominican Peso |DOP  |
|East Caribbean Dollar  |XCD  |
|Egyptian Pound |EGP  |
|Ethiopian Birr |ETB  |
|Euro   |EUR  |
|Fiji Dollar    |FJD  |
|Georgian Lari  |GEL  |
|Guatemala Quetzal  |GTQ  |
|Haiti Goude    |HTG  |
|Honduran Lempira   |HNL  |
|Hong Kong Dollar   |HKD  |
|Hungarian Forint   |HUF  |
|Iceland Krona  |ISK  |
|Indian Rupee   |INR  |
|Indonesia Rupiah   |IDR  |
|Iranian Rial   |IRR  |
|Jamaican Dollar    |JMD  |
|Japanese Yen   |JPY  |
|Jordanian Dinar    |JOD  |
|Kazakhstan Tenge   |KZT  |
|Kenyan Shilling    |KES  |
|Korean Won |KRW  |
|Kuwaiti Dinar  |KWD  |
|Latvian Lats   |LVL  |
|Lebanese Pound |LBP  |
|Libyan Dinars  |LYD  |
|Lithuanian Litas   |LTL  |
|Malawi Kwacha  |MWK  |
|Malaysian Ringgit  |MYR  |
|Mauritius Rupee    |MUR  |
|Mexican Peso   |MXN  |
|Moldovan Leu   |MDL  |
|Moroccan Dirham    |MAD  |
|New Israeli Shekel |ILS  |
|New Zealand Dollar |NZD  |
|Nigerian Naira |NGN  |
|Norwegian Krone    |NOK  |
|Omani Rial |OMR  |
|Pakistan Rupee |PKR  |
|Panamanian Balboa  |PAB  |
|Paraguayan Guarani |PYG  |
|Peruvian Sol   |PEN  |
|Philippine Peso    |PHP  |
|Polish Zloty   |PLN  |
|Pound Sterling |GBP  |
|Qatari Rial    |QAR  |
|Romanian New Leu   |RON  |
|Russian Ruble  |RUB  |
|Saudi Arabian Riyal    |SAR  |
|Serbian Dinar  |RSD  |
|Singapore Dollar   |SGD  |
|South African Rand |ZAR  |
|Sri Lanka Rupee    |LKR  |
|Swedish Krona  |SEK  |
|Swiss Franc    |CHF  |
|Syrian Pound   |SYP  |
|Taiwan New Dollar  |TWD  |
|Thai Baht  |THB  |
|Trinidad and Tobago Dollar |TTD  |
|Tunisian Dinar |TND  |
|Turkish Lira   |TRY  |
|Ukranian Hryunia   |UAH  |
|UAE Dirham |AED  |
|Uruguay Peso   |UYU  |
|US Dollar  |USD  |
|Venezuelan Bolivar |VEF  |
|Viet Nam Dong  |VND  |

<a name="province-codes" title="Province Codes"></a>
## Province Codes
| **Province** | **Code** |
|---           |---       |---|
| Alberta | AB |
| British Columbia | BC |
| Manitoba | MB |
| New Brunswick | NB |
| Newfoundland | NL |
| Nova Scotia | NS |
| Northwest Territories | NT |
| Nunavut | NU |
| Ontario | ON |
| Prince Edward Island | PE |
| Quebec  | QC |
| Saskatchewan | SK |
| Yukon | YT |

<a name="state-codes" title="State Codes"></a>
## State Codes
| **State** | **Code** |
|---        |---       |--- |
| Alabama | AL |
| Alaska | AK |
| American Samoa | AS |
| Arizona | AZ |
| Arkansas | AR |
| Armed Forces Americas | AA |
| Armed Forces Europe | AE |
| Armed Forces Pacific | AP |
| California | CA |
| Colorado | CO |
| Connecticut | CT |
| Delaware | DE |
| District of Columbia | DC |
| Florida | FL |
| Georgia | GA |
| Guam | GU |
| Hawaii | HI |
| Idaho | ID |
| Illinois | IL |
| Indiana | IN |
| International | IT |
| Iowa | IA |
| Kansas | KS |
| Kentucky | KY |
| Louisiana | LA |
| Maine | ME |
| Maryland | MD |
| Massachusetts | MA |
| Michigan | MI |
| Minnesota | MN |
| Mississippi | MS |
| Missouri | MO |
| Montana | MT |
| Nebraska | NE |
| Nevada | NV |
| New Hampshire | NH |
| New Jersey | NJ |
| New Mexico | NM |
| New York | NY |
| North Carolina | NC |
| North Dakota | ND |
| Northern Mariana Is. | MP |
| Ohio | OH |
| Oklahoma | OK |
| Oregon | OR |
| Palau | PW |
| Pennsylvania | PA |
| Puerto Rico | PR |
| Rhode Island | RI |
| South Carolina | SC |
| South Dakota | SD |
| Tennessee | TN |
| Texas | TX |
| U.S. Virgin Islands | VI |
| United States Federal | US |
| Utah | UT |
| Vermont | VT |
| Virginia | VA |
| Washington  | WA |
| West Virginia | WV |
| Wisconsin | WI |
| Wyoming | WY |

<a name="country-codes" title="Country Codes"></a>
## Country Codes
| **Country** | **Code** |
|---          |---       |--- |
| Afghanistan | AF |
| Åland Islands | AX |
| Albania | AL |
| Algeria | DZ |
| American Samoa | AS |
| Andorra | AD |
| Angola | AO |
| Anguilla | AI |
| Antarctica | AQ |
| Antigua and Barbuda | AG |
| Argentina | AR |
| Armenia | AM |
| Aruba | AW |
| Australia | AU |
| Austria | AT |
| Azerbaijan | AZ |
| Bahamas | BS |
| Bahrain | BH |
| Bangladesh | BD |
| Barbados | BB |
| Belarus | BY |
| Belgium | BE |
| Belize | BZ |
| Benin | BJ |
| Bermuda | BM |
| Bhutan | BT |
| Bolivia | BO |
| Bonaire, Sint Eustatius and Saba | BQ |
| Bosnia and Herzegovina | BA |
| Botswana | BW |
| Bouvet Island | BV |
| Brazil | BR |
| British Indian Ocean Territory | IO |
| Brunei Darussalam | BN |
| Bulgaria | BG |
| Burkina Faso | BF |
| Burundi | BI |
| Cambodia | KH |
| Cameroon | CM |
| Canada | CA |
| Cape Verde | CV |
| Cayman Islands | KY |
| Central African Republic | CF |
| Chad | TD |
| Chile | CL |
| China | CN |
| Christmas Island | CX |
| Cocos (Keeling) Islands  | CC |
| Colombia | CO |
| Comoros | KM |
| Congo | CG |
| Congo, Democratic Republic of | CD |
| Cook Islands | CK |
| Costa Rica | CR |
| Côte D’Ivoire | CI |
| Croatia  | HR |
| Cuba | CU |
| Curaçao | CW |
| Cyprus | CY |
| Czech Republic | CZ |
| Denmark | DK |
| Djibouti | DJ |
| Dominica | DM |
| Dominican Republic | DO |
| Ecuador | EC |
| Egypt | EG |
| El Salvador | SV |
| Equatorial Guinea | GQ |
| Eritrea | ER |
| Estonia | EE |
| Ethiopia | ET |
| Falkland Islands  | FK |
| Faroe Islands | FO |
| Fiji | FJ |
| Finland | FI |
| France | FR |
| French Guiana | GF |
| French Polynesia | PF |
| French Southern Territories | TF |
| Gabon | GA |
| Gambia | GM |
| Georgia | GE |
| Germany | DE |
| Ghana | GH |
| Gibraltar | GI |
| Greece | GR |
| Greenland | GL |
| Grenada | GD |
| Guadeloupe | GP |
| Guam | GU |
| Guatemala | GT |
| Guernsey | GG |
| Guinea | GN |
| Guinea-Bissau | GW |
| Guyana | GY |
| Haiti | HT |
| Heard and McDonald Islands | HM |
| Honduras | HN |
| Hong Kong | HK |
| Hungary | HU |
| Iceland | IS |
| India | IN |
| Indonesia | ID |
| Iran  (Islamic Republic of)  | IR |
| Iraq | IQ |
| Ireland | IE |
| Isle of Man | IM |
| Israel | IL |
| Italy | IT |
| Jamaica | JM |
| Japan | JP |
| Jersey | JE |
| Jordan | JO |
| Kazakhstan | KZ |
| Kenya | KE |
| Kiribati | KI |
| Korea, Democratic People’s Republic | KP |
| Korea, Republic of | KR |
| Kuwait | KW |
| Kyrgyzstan | KG |
| Lao People’s Democratic Republic | LA |
| Latvia | LV |
| Lebanon | LB |
| Lesotho | LS |
| Liberia | LR |
| Libyan Arab Jamahiriya | LY |
| Liechtenstein | LI |
| Lithuania | LT |
| Luxembourg | LU |
| Macau | MO |
| Macedonia | MK |
| Madagascar | MG |
| Malawi | MW |
| Malaysia | MY |
| Maldives | MV |
| Mali | ML |
| Malta | MT |
| Marshall Islands | MH |
| Martinique | MQ |
| Mauritania | MR |
| Mauritius | MU |
| Mayotte | YT |
| Mexico | MX |
| Micronesia, Federated States of | FM |
| Moldova, Republic of | MD |
| Monaco | MC |
| Mongolia | MN |
| Montenegro | ME |
| Montserrat | MS |
| Morocco | MA |
| Mozambique | MZ |
| Myanmar | MM |
| Namibia | NA |
| Nauru | NR |
| Nepal | NP |
| New Caledonia | NC |
| New Zealand | NZ |
| Nicaragua | NI |
| Niger | NE |
| Nigeria | NG |
| Niue | NU |
| Norfolk Island | NF |
| Northern Mariana Islands | MP |
| Norway | NO |
| Oman | OM |
| Pakistan | PK |
| Palau | PW |
| Palestinian Territory, Occupied | PS |
| Panama | PA |
| Papua New Guinea | PG |
| Paraguay | PY |
| Peru | PE |
| Philippines | PH |
| Pitcairn | PN |
| Poland | PL |
| Portugal | PT |
| Puerto Rico | PR |
| Qatar | QA |
| Reunion | RE |
| Romania | RO |
| Russian Federation | RU |
| Rwanda | RW |
| Saint Barthélemy | BL |
| Saint Helena | SH |
| Saint Kitts and Nevis | KN |
| Saint Lucia | LC |
| Saint Martin | MF |
| Saint Vincent and the Grenadines | VC |
| Samoa | WS |
| San Marino | SM |
| Sao Tome and Principe | ST |
| Saudi Arabia | SA |
| Senegal | SN |
| Serbia | RS |
| Seychelles | SC |
| Sierra Leone | SL |
| Singapore | SG |
| Sint Maarten | SX |
| Slovakia (Slovak Republic) | SK |
| Slovenia | SI |
| Solomon Islands | SB |
| Somalia | SO |
| South Africa | ZA |
| South Georgia and the South Sandwich Islands | GS |
| South Sudan | SS |
| Spain | ES |
| Sri Lanka | LK |
| St. Pierre and Miquelon | PM |
| Sudan | SD |
| Suriname | SR |
| Svalbard and Jan Mayen Islands | SJ |
| Swaziland | SZ |
| Sweden | SE |
| Switzerland | CH |
| Syrian Arab Republic | SY |
| Taiwan | TW |
| Tajikistan | TJ |
| Tanzania, United Republic of | TZ |
| Thailand | TH |
| The Netherlands | NL |
| Timor-Leste | TL |
| Togo | TG |
| Tokelau | TK |
| Tonga | TO |
| Trinidad and Tobago | TT |
| Tunisia | TN |
| Turkey | TR |
| Turkmenistan | TM |
| Turks and Caicos Islands | TC |
| Tuvalu | TV |
| Uganda | UG |
| Ukraine | UA |
| United Arab Emirates | AE |
| United Kingdom | GB |
| United States | US |
| United States Minor Outlying Islands | UM |
| Uruguay | UY |
| Uzbekistan | UZ |
| Vanuatu | VU |
| Vatican City State (Holy See) | VA |
| Venezuela | VE |
| Vietnam | VN |
| Virgin Islands (British) | VG |
| Virgin Islands (U.S.) | VI |
| Wallis and Futuna Islands | WF |
| Western Sahara | EH |
| Yemen | YE |
| Zambia | ZM |
| Zimbabwe | ZW |


<a name="complex_json_objects" title="Complex JSON Objects"></a>
# Complex JSON Objects

<a name="accordd-object" title="accordD Object"></a>
## accordD Object

The accordD object allows the merchant to specify a financing plan along with the regular order. 

**Note:** Do not include this object unless you are instructed to do so by Paysafe.


|Element                 |Type                   |Required       |Description|
|---                     |---                    |---            |---|
|financingType           |enumeration            |Yes            |This is the type of financing offered. Possible values are: <ul><li>DEFERRED_PAYMENT &ndash; Deferred payment financing</li><li>EQUAL_PAYMENT &ndash; Equal payment financing</li></ul>
|plan                    |string<br/>`length<=3` |Yes            |This is the plan number for this financing transaction. |
|gracePeriod             |integer<br/>`max=99`   |               |This is the grace period, in months, associated with deferred payment transactions.|
|term                    |integer<br/>`max=99`   |               |This is the number of payments, in months, for equal payment transactions.

**Example**

```apib
{
 "accordD" : 
 {
 "financingType" : "DEFERRED_PAYMENT",
 "plan" : "123",
 "gracePeriod" : "12"
  }
}
```

<a name="addendumdata-object" title="addendumData Object"></a>
## addendumData Object

* Addendum data allows the merchant to specify additional data (e.g., affiliate codes, session IDs, etc.) to be stored against the transaction and returned to in status calls, reports, etc. Addendum data parameters are sent back in callbacks and redirection URLs.
* Up to 10 addendum data key/value pairs are enabled per order. They do not need to be defined in advance and can be different on each transaction.

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|key                     |string<br/>`length=50`                 |Yes            |This is a description of the data being added to the order.
|value                   |string<br/>`length=50`                |Yes            |This is the value for the key/value pair.

**Example**

```apib
{
  "addendumData" : [
  {
    "key" : "affiliate_code",
    "value" : "test12345"
  },
  {
    "key" : "JSESSIONID",
    "value" : "ABCDE12345"
  }
]
}
```

<a name="ancillaryFees-object" title="ancillaryFees Object"></a>
## ancillaryFees Object
|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|amount                       |integer                 |Yes            |This is the amount of the fee in minor units. This value can be negative to indicate a discount. E.g., 999 would be $9.99.
|description                  |string<br/>`length<=50`                |Yes            |This is the description of the fee. <br></br><br></br>**Note:** The *totalAmount* provided in the initial order must include any ancillary fees (and shopping cart items) passed in the *ancillaryFees* section. 

**Example**

```apib
{
 "ancillaryFees" : [
 {
   "amount" : 300,
   "description" : "Postage"
 },
 {
   "amount" : 125,
   "description" : "Tax"
 }
 ]
}
```

<a name="associatedTransactions-object" title="associatedTransactions Object"></a>
## associatedTransactions Object

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|amount|integer|| This is the total amount of any transaction associated with the order (e.g., a refund) in minor units. E.g., 999 would be $9.99.| 
|authType|enumeration||This is the transaction type. Possible values are: <ul><li>auth – This is an authorization-only transaction.</li><li>purchase – This is a transaction with immediate billing.</li><li>settlement – This transaction is the settlement of a previous authorization-only transaction.&nbsp;</li><li>refund – This is a refund transaction.</li></ul>|
|dateTime|dateTime UTC||This is the date and time at which the associated transaction was processed.|
|reference|string<br>`length<=20` ||This is the Paysafe reference for the associated transaction.|

**Example**

```apib
{
"associatedTransactions" : [
    {
        "amount" : 500,
        "authType" : "settlement",
        "dateTime" : "2014-01-26T10:32:28Z",
        "reference" : "25TWPTLHRR81AIG1LF"
    }
    ]
}
```

<a name="billingcycleobject" title="billingCycle Object"></a>
## billingCycle

**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. See [3D Secure 2 documentation](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/) for more information.

|Element                |Type                           |       |Description|
|---                    |---                            |---    |---       |
|endDate                |UTC formatted date             |Yes    |This is the date after which no further authorizations will be performed. The ISO 8601 date format is expected, i.e., YYYY-MM-DD.|
|frequency              |number<br/>`min=1`<br/>`max=9999`          |Yes    | This is the minimum number of days between authorizations. |

```apib
{
    "endDate": "2021-01-26",
    "frequency": 1
}
```

<a name="billingDetails-object" title="billingDetails Object"></a>
## billingDetails Object

The merchant can return billing details in the order – these details will be used to pre-populate the payment form when the payment page is requested for payment. The street and zip parameters are used for address verification checks. No further validation on other address information is performed (other than data-type integrity checks).

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|city                    |string<br/>`length<=40`   |               |This is the city in the billing address.
|country                 |string<br/>`length=2`     |Yes            |This is the country in the billing address. See [Country Codes](#country-codes)|
|street                  |string<br/>`length<=50`   |               |This is the first line of the street address in the billing address.|
|street2                 |string<br/>`length<=50`   |               |This is the second line of the street address in the billing address.|
|zip                     |string<br/>`length<=10`   |Yes            |This is the postal/zip code in the billing address.|
|state                   |string<br/>`length<=40`   |               |This is the state/province/region in the billing address. For Canada, see [Province Codes](#province-codes). For the US, see [State Codes](#state-codes). Other countries have no restrictions. |
|phone                   |string<br/>`length<=40`   |               |This is the telephone number in the billing address.|
|useAsShippingAddress    |boolean                   |               |This indicates whether this address should also be used as the shipping address.|

**Example**

```apib
{
  {
  "billingDetails" : {
    "city" : "London",
    "country" : "EG",
    "street" : "123 Grosvenor Street",
    "street2" : "#25",
    "zip" : "EG123",
    "state" : "County",
    "phone" : "1234578544",
    "useAsShippingAddress" : true
  }
}
```

<a name="callback-object" title="callback Object"></a>
## callback Object
Callbacks can be made back to a merchant system either in-line with a transaction authorization or asynchronously shortly after. 
The callback system can detect problems with the merchant system and retry any failed attempts until a successful response is received.

**Note:** Paysafe recommends asynchronous callbacks as the customer experience is significantly better.

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|format                  |enumeration               |Yes            |This is the redirect type, allowing different endpoints to be targeted depending on the end state of the transaction. Possible values are: <ul><li>json</li><li>get</li><li>form-urlencoded</li><li>xml</li></ul>|
|rel                     |enumeration               |Yes            |This is the callback type, allowing different endpoints to be targeted depending on the end state of the transaction. Possible values are: <ul><li>on_success</li><li>on_decline</li><li>on_hold</li></ul> <br>Multiple callbacks of the same type are possible, and can be appended to the array.|
|retries                 |number<br/>`0-10`         |               |This specifies the number of callback attempts to make on the system (from 0 to 10) after receiving an error from the merchant endpoint.|
|returnKeys              |array                     |               |This is an array of additional parameter names to be passed back to the URL in the format specified. All *addendumData* parameters are returned by default. See [callback return keys](#callback-return-keys).|
|synchronous             |boolean                   |               |This parameter specifies that the callback should be made in-line with the authorization. The system will time out any synchronous callback that takes longer than 20 seconds to complete. <br></br><br></br>**Note:** This value defaults to *false*. Paysafe recommends that this flag is set to *true*. Callbacks will be made back to the merchant within 10 minutes of a transaction attempt.
|uri                     |string<br/>`length<=1024` |Yes            |This is the URL to which to send the callback. If this is an HTTPS address, please ensure that the certificate is valid – otherwise, the callback will fail.|
|delimiter               |string<br/>`length<=10`   |               |This specifies the delimiter to use when parameters are sent to the callback URI (e.g, “;” “&” “$”). By default an ampersand (&) is used. <br></br><br></br>**Note:** The delimiter parameter is supported only when the format parameter is set to get or form-urlencoded.|

**Note:** Callbacks are retried every 5 minutes if a non-200 response is returned by the merchant, up to the number of callback retries set by the merchant (default is 3)

**Example**

```apib
{
  "callback" : [
    {
        "format" : "json",
        "rel" : "on_success",
        "retries" : 3,
        "returnKeys" : [
            "id"
        ],
        "synchronous" : true,
        "uri" : "https://success.example.com/transaction_success.php"
    }
    ]
}
```

<a name="callback-return-keys" title="Callback return keys"></a>
The callback return keys may contain the following parameters.

| Parameter | Description |
|---        |---          |
| id | This is the transaction ID returned in response to the initial order request. |
| transaction.amount | This is the amount of the transaction that was processed. |
| transaction.authCode | This is the authorization code assigned by the issuing bank and returned by Paysafe for the transaction. |
| transaction.authType | This is the transaction type. |
| transaction.card.bin | This is the BIN of the card used (the first 6 digits). |
| transaction.card.brand | This is the brand of the card used. |
| transaction.card.country | This is the country of origin for the card used. See [Country Codes](#country-codes). |
| transaction.card.expiry | This is the expiry date of the card used. Format = mm/yyyy |
| transaction.card.lastDigits | This is the last four digits of the card used. |
| transaction.card.threeDEnrolment | This indicates the enrollment status of the card in the 3D Secure program. |
| transaction.card.threeDResult | This indicates the outcome of the authentication request. |
| transaction.card.type | This is the type of card used. |
| transaction.confirmationNumber | This is the confirmation number returned by Paysafe in response to the transaction request. |
| transaction.currencyCode | This is the currency in which the transaction was processed. See [Currency Codes](#currency-codes). |
| transaction.merchantRefNum | This is the merchant's transaction ID, included in the initial transaction. |
| transaction.paymentType | This is the type of payment used for the transaction. |
| transaction.sofortBanking.sofortBankingTxId | This is the Sofort Banking transaction ID. Please consult Sofort Banking documentation for all Sofort Banking maximum/minimum field values. |
| transaction.sofortBanking.internationalTransaction | This is the flag for international transactions. |
| transaction.status | This indicates the status of the transaction. |
| transaction.errorCode | If an error occurs, this is the error number. |
| profile.paymentToken | This is the payment token returned by Paysafe in response to the transaction request. It can be used to process a repeat payment. |
| profile.id  | This is the customer ID of the profile created during the order request. |
| profile.firstName | This is the customer’s first name. |
| profile.lastName | This is the customer’s last name. |
| customerNotificationEmail | This is the customer’s email address, to which notifications regarding the order request are sent. |

<a name="electronicdeliveryobject" title="electronicDelivery Object"></a>
## electronicDelivery

**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. See [3D Secure 2 documentation](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/) for more information.

|Element                |Type                           |Required   |Description|
|---                    |---                            |---        |---        |
|isElectronicDelivery   |boolean                        |Yes        |This indicates whether there is an electronic delivery for the product.|
|email                  |string<br/>`length<=240`       |           |This is the email address to which the merchandise was delivered. |

```apib
{
    "isElectronicDelivery": "true",
    "email": "example@example.com"
}
```

<a name="error_object" title="error Object"></a>
## error Object
JSON error responses from the Hosted API include an error object in the body of the response.

|Element                 |Type   |Required  |Description|
|---                     |---    |---       |---|
|code                    |string |Yes       |The error code.|
|message                 |string |Yes       |The error message describing the error. Also shown in the X-Application-Error response header|

```apib
{  
   "error":{  
      "code":401,
      "message":"Not authorised"
   }
}
```

<a name="extendedOptions-object" title="extendedOptions Object"></a>
## extendedOptions Object
The merchant can use extended options to activate/deactivate certain features in the payment system.
For example, if billing information is being passed from the merchant's system, it can be rendered non-editable on the payment page by setting an extended option.

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|key                     |string<br/>`length<=40`   |               |This is a description of the option being added to the order.|
|value                   |enumeration               |               |This is the value for the key/value pair. See [extendedOptions Key/Value Pairs](#extendedoptions-keyvalue-pairs) for more information.|

**Example**

```apib
{
  "extendedOptions" : [
    { 
        "key" : "callbackEmail", 
        "value" : "john.smith@email.com" 
    },
    {
        "key" : "emailNotEditable",
        "value" : "1"
    }
    ]
}
```

<a name="extendedoptions-keyvalue-pairs" title="extendedOptions Key/Value Pairs"></a>
### extendedOptions Key/Value Pairs

The *extendedOptions* array may contain the following key/value pairs. 

| Key | Type | Description |
|---  |---   |--- |
| authType | string</br>`length<=20` | This allows merchants to specify that a transaction is Authorize Only, where the customer will not be billed until some time in the future. Possible values are: <ul><li>auth</li><li>purchase</li><li>oct</li></ul> |
| callbackEmail | string</br>`length<=256` | This allows merchants to receive an email that contains the same data they would receive if they were to query the *self* URL returned from the API. |
| disableAddingPaymentMethods | boolean | This prevents the customer from adding a new payment method on the hosted payment page.|
| disableAllProfileActions | boolean | This removes all "edit" and "add new card" functions from the hosted payment page. |
| disableCardWithToken | boolean | This prevents processing a transaction in the case where the original order request was created with a payment token, but where an additional credit card is also supplied in the Silent Post to the *hosted_payment* URL. By default this is set to *false*.|
| disableDupCardCheckWithinProfile | boolean | This allows the same card to be added against a profile multiple times without inducing an error message. |
| disableDuplicateMerchantRefCheck | boolean | This allows merchants to submit an order using a duplicate *merchantRefNum* parameter. By default this is set to *false*.
| disablePaymentMethodStorage | boolean | If passed as *true* this removes the "Store my details for future use" check box from the hosted payment page and sets the flag value to *false*. |
| disableProfileEditing | boolean | This prevents the customer from editing profile details on the hosted payment page. |
| disableRemovingPaymentMethods | boolean | This prevents the customer from removing a previously stored payment method from a profile on the hosted payment page. |
| dupCheckCardMaxAllowed |string |This indicates the number of existing customer profiles that are allowed to contain the same card number. For example, if *dupCheckCardMaxAllowed* is assigned a value of 2, then the card can be added to two profiles.<ul><li>In order to enforce complete uniqueness, assign *dupCheckCardMaxAllowed* a value of 1.</li><li>If *dupCheckCardMaxAllowed* is not included, then the card can be added to an unlimited number of profiles.</li></ul>
| emailNotEditable | boolean | This prevents the customer from changing their email address on the hosted payment page.|
| forcePaymentMethodStorage | boolean | If passed as *true* this removes the "Store my details for future use" check box from the hosted payment page and sets the flag value to *true*. |
| houseNumberNotEditable | boolean | This prevents the customer from changing their address on the hosted payment page.|
| merchantAccount | string</br>`length<=40` | This allows merchants to specify the merchant account ID to use to process the order. This feature should be used if a merchant has multiple merchant accounts with the same currency. This feature must be configured by Paysafe before use. |
| orderTimeout | integer<br>`300-2592000` | This indicates how many seconds an order remains valid (see [Process an Order with a Hosted Page](https://developer.paysafe.com/en/classic-apis/hosted-payments/typical-api-calls/process-an-order-using-a-hosted-page/)). Current supported values are from 5 minutes to 30 days (300–2592000 seconds). If a timeout occurs and a customer is directed to the *hosted_payment* URI, or if Silent Post (or Direct Post) details are submitted, then an error will be raised. Merchants can also specify that customers are returned to the *on_timeout* URL (see the redirect parameters in [redirect Object](#redirect-object)).|
| recurringIndicator | boolean | This allows merchants to specify that the transaction is recurring and does not require the *cvdNumber* element. See [Process a Rebill Using an Order ID](#process-a-rebill-using-an-order-id).|
| silentPost | boolean | This allows merchants to submit a Silent Post (or Direct Post) order. See [Process an Order with a Silent Post](https://developer.paysafe.com/en/classic-apis/hosted-payments/typical-api-calls/process-an-order-using-a-silent-post/).|
| skip3D | boolean | This allows merchants to skip 3D Secure for an order. <br/>**Note:** This field is ignored if *useThreeDSecureVersion2* is included and set to *true*.|
| suppressCustomerEmail | boolean | This allows merchants to include the *customerNotificationEmail* parameter in an order but without having Paysafe send an email to the customer notifying them of the purchase. It gives merchants the ability to show/capture the customer’s email address on the payments page but not send an email.|
| threatMetrixSessionId | string</br>`length<=128` | This allows Silent Post (or Direct Post) merchants to specify their own *session_id* for use with ThreatMetrix. The value should be unique per request. This must consist of the following characters only:<ul><li>Upper and lowercase English letters (a-z, A-Z)</li><li>Digits (0-9)</li><li>Underscore or hyphen ( *, -)</li> |
| useProfileDefaults | boolean | When performing a transaction with *recurringIndicator* set to *true,* passing this key with a value of *true* will allow the previously stored billing details to be retrieved from the profile and passed with the new transaction. |
| storedCredentialType | enum | This specifies the type of request being made. Possible values are. <ul><li>ADHOC - Ad hoc consumer-initiated request.</li><li>TOPUP - Unscheduled merchant-initated request when a consumer balance is below a set limit. </li><li>RECURRING - Scheduled, merchant-initiated recurring request. </li>|
| storedCredentialOccurrence | enum | This specifies whether this stored credential request is initial or recurring. Possible values are: <ul><li>INITIAL - Used when this is the first time the consumer uses this credit card. </li><li>SUBSEQUENT - Used when the consumer uses this credit card for subsquent requests.</li>|
| initialTransactionId | string | The netbanx reference of a successful 3DS 2 Initial Recurring transaction. |

<a name="link-object" title="link Object"></a>
## link Object

The merchant can send different links (e.g., to cancel a payment and return to the shopping basket).
The *link* section works in the same way as redirects. All addendum data fields are available for the return keys, and a subset of callback parameters (see [callbacks](#callback-object) ).

|Element                 |Type                       |Required       |Description|
|---                     |---                        |---            |---|
|rel                     |enumeration                |Yes            |This is the link type, allowing different endpoints to be targeted depending on the end state of the transaction. Possible values are:<ul><li>cancel_url</li><li>return_url</li></ul>|
|returnKeys              |array                      |               |This is an array of parameter names to be passed back to the URL using a get request (the parameters are encoded in the query string using the & delimiter), including those passed in [addendumData](#addendumdata-object).|
|uri                     |string<br/>`length<=1024`    |Yes            |This is the URL to which to send the link. If this is an HTTPS address, please ensure that the certificate is valid. Otherwise, the link will cause the browser to display a certificate warning. |

**Example**

```apib
{
  "link" : [
    {
        "rel" : "cancel_url",
        "returnKeys" : [
            "JSESSIONID"
        ],
        "uri" : "https://example.com/cancel.html"
    }
    ]
}
```

<a name="merchantDescriptor-object" title="merchantDescriptor Object"></a>
## merchantDescriptor Object

Set the transaction description that a shopper sees on their bank statement.

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|dynamicDescriptor       |string<br/>`length<=20`   |Yes            |A merchant descriptor, which is displayed on a customer’s card statement.|
|phone                   |string<br/>`length<=13`   |               |The merchant’s phone number, which is appended to the merchant descriptor on a customer’s card statement.|

**Example**

```apib
{  
    "merchantDescriptor":{ 
        "dynamicDescriptor":"testt",
        "phone":"123" 
    }
}
```

<a name="order-object" title="order Object"></a>
## order Object

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|merchantRefNum|string<br/>`length=40`|Yes|This is your own transaction ID, for your reference purposes. This should be unique for each transaction.
|currencyCode|enumeration |Yes |This is the currency in which to process the transaction. See [Currency Codes](#currency-codes).
|useThreeDSecureVersion2 |boolean   |    |This enables [3D Secure version 2](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/). <br/>**Note:** This field defaults to *false*. When set to *true* this field ignores the standard 3D Secure that is enabled in your merchant configuration.|
|merchantUrl             |string<br/>`length<=2048` |    |This is the fully qualified URL of the merchant's commercial or Customer Care website.<br/>**Note:** This field is required if *useThreeDSecureVersion2* is included and set to *true*.| 
|totalAmount |integer|Yes |This is the total amount of the transaction (note that this value must be equal to the amounts passed in the *ancillaryFees* and *shoppingCart* parameters, discussed below). Merchants can provide zero (0) as an amount, if they need to process a verification with no value on the card. In this case, the *authType* must be set to *auth* using the *extendedOptions* feature.|
|[merchantDescriptor](#merchantDescriptor-object) |complex|| This sets the descriptor of the transaction that a shopper sees on their bank statement. |
|transactionIntent      | enumeration  |    | This identifies the type of transaction being authenticated for 3D Secure 2. Possible values are:<ul><li>GOODS_OR_SERVICE_PURCHASE</li><li>CHECK_ACCEPTANCE</li><li>ACCOUNT_FUNDING</li><li>QUASI_CASH_TRANSACTION</li></ul> <br/>**Note:** This field can be used if *useThreeDSecureVersion2* is included and set to *true*. This field defaults to GOODS_OR_SERVICE_PURCHASE.|
|messageCategory    |enumeration    |    |This specifies category of the message for a specific use case. Possible values are:<ul><li>PAYMENT</li><li>NON_PAYMENT</li></ul><br/>**Note:** This field can be used if *useThreeDSecureVersion2* is included and set to *true*. This field defaults to PAYMENT.|
|initialPurchaseTime    |UTC formatted date |    |This is the date and time of the purchase. <br/>**Note:** This field can be used if *useThreeDSecureVersion2* is included and set to *true*. <br/>This field is required in the following cases:<ul><li>*messageCategory* is set to PAYMENT</li><li>*messageCategory* is set to NON_PAYMENT and *authenticationPurpose* is set to either INSTALMENT_TRANSACTION or RECURRING_TRANSACTION</li></ul>|
| requestorChallengePreference  | enum  |  | This indicates whether a challenge is requested for this transaction. Possible values are:<br/><ul><li>NO_PREFERENCE</li><li>NO_CHALLENGE_REQUESTED</li><li>CHALLENGE_REQUESTED</li><li>CHALLENGE_MANDATED</li></ul>|
|authenticationPurpose  |enumeration    |    |This indicates the type of Authentication request, providing additional information to help determine the best approach for handing an Authentication request. Possible values are:<ul><li>PAYMENT_TRANSACTION</li><li>RECURRING_TRANSACTION</li><li>INSTALMENT_TRANSACTION</li><li>ADD_CARD</li><li>MAINTAIN_CARD</li><li>EMV_TOKEN_VERIFICATION</li></ul><br/>**Note:** This field is can be used if *useThreeDSecureVersion2* is included and set to *true*. This field defaults to PAYMENT_TRANSACTION.|
|maxAuthorizationsForInstalmentPayment |integer<br/>`min=1`<br/>`max=999` |   |This indicates the maximum number of authorizations permitted for instalment payments. <br/>**Note:** This field can be used if *useThreeDSecureVersion2* is included and set to *true*. This field is required if *authenticationPurpose* is set to INSTALMENT_TRANSACTION.|
|[electronicDelivery](#electronicdeliveryobject) | complex | |This is the electronic delivery information. <br/>**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*.|
|[orderItemDetails](#orderitemdetailsobject)   | complex |   | These are the details of a previously made purchase or preorder. <br/>**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*.|
|[billingCycle](#billingcycleobject)           | complex |   | **Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. This object is required if *authenticationPurpose* is set to INSTALMENT_TRANSACTION or RECURRING_TRANSACTION.|
|[userAccountDetails](#useraccountdetailsobject) |complex | |These are details of the user account at the merchant website. <br/> **Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*.|
|[purchasedGiftCardDetails](#purchasedgiftcarddetailsobject) |complex | |These are details of previous purchases made on a gift card. <br/>**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*.|
|customerIp |string<br/>`length<=15`||The value should be the incoming IP address of your customer, which will restrict the payment page to being viewable only from this IP address. <br></br><br></br>**Note:** Though the *customerIp* parameter is not mandatory, Paysafe recommends including it for additional security.|
|id|string<br/>`length<=128`||This ID represents the original order request. This ID will be used for subsequent transactions associated with the original request, such as making a payment or requesting an order status.|
|customerNotificationEmail|string<br/>`length<=256`||This is the customer’s email address, to which notifications regarding the purchase request are sent.|
|merchantNotificationEmail|string<br/>`length<=256`||This is the merchant’s email address, to which notifications regarding the purchase request are sent.|
|dueDate |date YYYY-MM-DD (UTC)||This is the date the order request will be processed. <br></br><br></br>**Note:** Include this parameter only when processing a rebill (see [Process a Rebill using an Order ID](#process-a-rebill-using-an-order-id))|
|[profile](#profile-object) |complex|| This allows you to create a customer profile with the order. |
|[shoppingCart](#shoppingCart-object) |complex|| This allows you to add shopping cart information to the order.|
|[supplierDetails](#supplierDetails-object) |complex|| This allows you to add supplier details to the order.|
|[ancillaryFees](#ancillaryFees-object) |complex|| This allows you to add ancillary fees to the order.|
|[billingDetails](#billingDetails-object) |complex|| This allows you to add billing details to the order. |
|[shippingDetails](#shippingDetails-object) |complex|| This allows you to add shipping details to the order. |
|[callback](#callback-Object) |complex|| This allows you to add callbacks to the order. <br></br><br></br>**Note:** You can avoid callbacks if you poll the self endpoint for the Transaction ID. See the link.rel parameter in the order response. |
|[redirect](#redirect-Object) |complex|| This allows you to add redirects to the order. Redirects cause a connection back to the merchant system via the customer's browser. |]
|[link](#link-Object) |complex|| This allows you to add links to the order. You can add different links – e.g., to cancel a payment and return to the shopping cart.|
|paymentMethod | enumeration ||Array of payment methods. This allows you to add payment methods to the order. Possible values are: <ul><li>card</li><li>giropay</li><li>interac</li><li>neteller</li><li>paypal</li><li>sofortbanking</li></ul> <br></br><br></br>**Note:** This value defaults to *card*. See [Payment Method Notes](#payment-method-notes) for additional information on each payment method.|
|[addendumData](#addendumdata-object) |complex||This allows you to specify additional data (e.g., affiliate codes, session IDs, etc.) to be stored against the transaction and returned to you in status calls, reports, etc.|
|locale|enumeration||This allows you to display your payment/receipt pages and emails using the locale requested. Possible values are: <ul><li>en_GB &ndash; UK English</li><li>en_US &ndash; American English</li><li>fr_CA &ndash; Canadian French</li><li>fr_FR &ndash; European French</li></ul><br></br><br></br>**Note:** If the locale parameter is not passed or if an unsupported ISO 639-1 code is sent to the API then the default value provided in the merchant’s integration configuration will be used.|
|[extendedOptions](#extendedOptions-object)|complex||This allows you to activate/deactivate certain features in the payment system.|
|[associatedTransactions](#associatedTransactions-object)|complex||In a response, this is any transaction relating to the original request (e.g., the refund of a settlement).|
|[accordD](#accordD-object)|complex||These are parameters for financing plans supported for certain merchant configurations. <br></br><br></br>**Note:** Include this element only when instructed to do so by Paysafe.|
|[visaAdditionalAuthData](#visaAdditionalAuthData)|complex||This allows additional data to be included with a request using Visa as a payment method.|


<a name="orderitemdetailsobject" title="orderItemDetails Object"></a>
## orderItemDetails

**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. See [3D Secure 2 documentation](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/) for more information.

| Element                         | Type               |Required | Description                                                                                                                                                        |
|---------------------------------|--------------------|---     |--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| preOrderItemAvailabilityDate    | UTC formatted date | | For a pre-ordered purchase, this is the date that the merchandise is expected to be available. The ISO 8601 date format is expected, i.e., YYYY-MM-DD.|
| preOrderPurchaseIndicator       | enumeration        | |This indicates whether the cardholder is placing an order for available merchandise or merchandise with a future availability or release date. Possible values are:<br/><ul><li>MERCHANDISE_AVAILABLE</li><li>FUTURE_AVAILABILITY</li></ul>|
| reorderItemsIndicator           | enumeration        | | This indicates whether the cardholder is reordering merchandise. Possible values are:<br/><ul><li>FIRST_TIME_ORDER</li><li>REORDER</li></ul>|
| shippingIndicator               | enumeration        | | This is the shipping method for the transaction. Possible values are:<br/><ul><li>SHIP_TO_BILLING_ADDRESS</li><li>SHIP_TO_VERIFIED_ADDRESS</li><li>SHIP_TO_DIFFERENT_ADDRESS</li><li>SHIP_TO_STORE</li><li>DIGITAL_GOODS</li><li>TRAVEL_AND_EVENT_TICKETS</li><li>OTHER</li></ul>|

```apib
{
    "preOrderItemAvailabilityDate": "2014-01-26",
    "preOrderPurchaseIndicator": "MERCHANDISE_AVAILABLE",
    "reorderItemsIndicator": "FIRST_TIME_ORDER",
    "shippingIndicator": "SHIP_TO_BILLING_ADDRESS"
}
```

<a name="paymentaccountdetailsobject" title="paymentAccountDetails Object"></a>
## paymentAccountDetails

**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. See [3D Secure 2 documentation](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/) for more information.

|Element        |Type                   |Required   |Description|
|---            |---                    |---        |---|
|createdRange   |enumeration            |           |This indicates the length of time that the payment account was enrolled in the cardholder’s account with the 3DS Requestor. Possible values are:<br/><ul><li>NO_ACCOUNT</li><li>DURING_TRANSACTION</li><li>LESS_THAN_THIRTY_DAYS</li><li>THIRTY_TO_SIXTY_DAYS</li><li>MORE_THAN_SIXTY_DAYS</li></ul>|
|createdDate    |UTC formatted date     |           |This is the date that the cardholder opened the account with the 3DS Requestor. The ISO 8601 date format is expected, i.e., YYYY-MM-DD.|

```apib
{
    "createdRange": "NO_ACCOUNT",
    "createdDate": "2014-01-26"
}
```

<a name="priorthreedsauthenticationobject" title="piorThreeDSAuthentication Object"></a>
## priorThreeDSAuthentication

**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. See [3D Secure 2 documentation](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/) for more information.

|Element        |Type                       |Required   |Description|
|---            |---                        |---        |---|
|data           |string<br/>`max=2048 bytes`|           |This field is reserved for future iterations of 3D Secure 2.|
|method         |enumeration                |           |This is the mechanism used previously by the cardholder to authenticate to the 3D Secure Requestor. Possible values are:<br/><ul><li>FRICTIONLESS_AUTHENTICATION</li><li>ACS_CHALLENGE</li><li>AVS_VERIFIED</li><li>OTHER_ISSUER_METHOD</li></ul>|
|id             |string<br/>`length<=36`    |           |This is a previous authentication ID for the cardholder. <br/>**Note:** For recurring payments, this is the _authenticationId_ of the first authentication. |
|time           |UTC formatted date         |           |This is the date and time of the cardholder authentication. The ISO 8601 date format is expected, i.e., YYYY-MM-DD-THH:MM:SSZ.|

```apib
{
    "data": "Some up to 2048 bytes undefined data",
    "method": "FRICTIONLESS_AUTHENTICATION",
    "id": "123e4567-e89b-12d3-a456-426655440000",
    "time": "2014-01-26T10:32:28Z"
}
```

<a name="profile-object" title="profile Object"></a>
## profile Object

For more information on profiles, see [Create a Profile with an Order](#create-a-profile-with-an-order).

|Element                 |Type                       |Required       |Description|
|---                     |---                        |---            |---|
|merchantCustomerId      |string<br/>`length<=100`   |Yes            |This is the customer ID that the merchant has assigned to the customer. When this parameter is included in the request, a customer profile will be created.<ul><li>Once a *profile.id* is created for the customer, the is created for the customer, the *merchantCustomerId* parameter no longer needs to be included in an order request.</li><li>If a profile is being created for a new customer, then the *merchantCustomerId* parameter should be included in the request.</li></ul>|
| firstName              |string<br/>`length<=80` ||This is the customer’s first name.|
| lastName |string<br/>`length<=80`||This is the customer’s last name.|
| id|string<br/>`length<=80`|| This is the customer ID returned by Paysafe when the profile is created. If the *id* is included in an order request, then the customer profile associated with that ID will be used for the transaction. See [Process an Order with a Profile ID](#process-an-order-with-a-profile-id) for more information.|
| paymentToken |string<br/>`length<=80`|| This is the payment token returned by Paysafe when the profile is created (see [Order Status Response Parameters](#order-status-response-parameters)). If the *paymentToken* is included in an order request, then the card number associated with that token will be used for the transaction. See [Process an Order with a Payment Token](#process-an-order-with-a-payment-token) for more information.|

**Example**

```apib
{
    "customerIp" : "123.123.123.123",
    "merchantRefNum" : "MERCHANT_REF_123",
    "currencyCode" : "GBP",
    "totalAmount" : 1125,
    "profile" : {
        "merchantCustomerId" : "jane.smythe@emailhost.com",
        "firstName" : "Jane",
        "lastName" : "Smythe"
   },
    "customerNotificationEmail" : "jane.smythe@emailhost.com"
}
```

<a name="purchasedgiftcarddetailsobject" title="purchasedGiftCardDetails Object"></a>
## purchasedGiftCardDetails

**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. See [3D Secure 2 documentation](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/) for more information.

|Element            |Type                               |Required   |Description|
|---                |---                                |---        |---        |
|amount             |integer<br/>`max = 99999999999`    |           |This is the amount of the gift card, in minor units. |
|count              |integer<br/>`max = 99`             |           |This is the total count of individual prepaid or gift cards/codes purchased.|
|currency           |string<br/>`length = 3`            |           |This is the currency of the gift card. |

```apib
{
    "amount": 9999,
    "count": 2, 
    "currency":USD"
}
```

<a name="redirect-object" title="redirect Object"></a>
## redirect Object

* Redirects are similar to callbacks in that they cause a connection back to the merchant system, but in this case from the customer's browser.
* In the event of multiple redirects with the same name being sent, only the first will be used. No parameters will be passed back by default. You can encode simple parameters into the URL and do not need to use *returnKeys* provided the redirection URL is kept under 100 characters.

**Note:** Never rely on a redirection to determine the end state of a transaction, as they can fail or be tampered with. Always use a callback or a “status” call to obtain transaction status.

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
| rel |enumeration |Yes|This is the redirect type, allowing different endpoints to be targeted depending on the end state of the transaction. Possible values are: <ul><li>on_success</li><li>on_error</li><li>on_decline</li><li>on_timeout</li><li>on_hold</li></ul>|
| returnKeys | enumeration ||This is an array of parameter names to be passed back to the URL in the format specified. All *addendumData* parameters are included by default. See [Redirect Return Keys](#redirect-return-keys).|
| uri |string<br/>`length<=1024`|Yes|This is the URL to which to send the redirect. If this is an HTTPS address, please ensure that the certificate is valid – otherwise, the redirect will cause the browser to display a certificate warning.|
| delimiter |string<br/>`length<=10`||This specifies the delimiter to use when parameters are sent to the redirect URI (e.g, “;” “&” “$”). By default an ampersand (&) is used. |

**Example**

```apib
{
  "redirect" : [
    {
        "rel" : "on_success",
        "returnKeys" : [
            "id"
        ],
        "uri" : "https://example.com/success.html"
    }
    ]
}
```
<a name="redirect-return-keys" title="redirect return keys"></a>
### redirect return keys

The redirect return keys may contain the following parameters.

| Parameter | Description |
|---        |--- | 
| id | This is the transaction ID returned in response to the initial order request. |
| profile.firstName | This is the customer’s first name. |
| profile.lastName | This is the customer’s last name. |
| customerNotificationEmail | This is the customer’s email address, to which notifications regarding the order request are sent. |
| transaction.confirmationNumber | This is the confirmation number returned by Paysafe in response to the transaction request. |
| transaction.amount | This is the amount of the transaction that was processed. |
| transaction.authCode | This is the authorization code assigned by the issuing bank and returned by Paysafe for the transaction. |
| transaction.status | This indicates the status of the transaction. |
| transaction.errorCode | If an error occurs, this is the error number. |
| transaction.errorMessage | If an error occurs, this is the description of the error. |
| transaction.riskReasonCode | If the transaction has a status of held, this value holds the reason code.  |

<a name="shippingDetails-object" title="shippingDetails Object"></a>
## shippingDetails Object
**Note:** The merchant should include shipping details for any purchase that requires delivery of physical goods.

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|city|string<br>`length<=40`| | This is the city in the shipping address. |
|country|string<br>`length<=3` |Yes|This is the country in the shipping address. See [Country Codes](#country-codes).|
|recipientName|string</br>`length<=256` | | This is the name of the recipient in the shipping address. |
|street|string<br>`length<=50` |    | This is the first line of the street address in the shipping address. |
|street2|string<br>`length<=50` |   |This is the second line of the street address in the shipping address. |
|zip|string<br>`length=10` |Yes |This is the postal/zip code in the shipping address. |
|state |string<br>`length<=40`||This is the state/province/region in the shipping address. For Canada, see [Province Codes](#province-codes). For the U.S., see [State Codes](#state-codes). Other countries have no restrictions.
|phone|string<br>`length<=40`||This is the telephone number in the shipping address.|
|carrier|enumeration||This is the shipment carrier. Possible values are: <ul><li>APC = APC Overnight</li><li>APS = AnPost</li><li>CAD = Canada Postal Service</li><li>DHL</li><li>FEX = Fedex</li><li>RML = Royal Mail</li><li>UPS = United Parcel Service</li><li>USPS = United States Postal Service</li><li>CLK = CityLink</li><li>EMS = EMS (US Postal Service)</li><li>NEX = Nexworldwide</li><li>OTHER</li></ul>|
|shipMethod|enumeration||This is the method of shipment. Possible values are:<ul><li>N = Next Day/Overnight&nbsp;</li><li>T = Two-Day Service&nbsp;</li><li>C = Lowest Cost</li><li>O = Other</li></ul>|

**Example**

```apib
{
  "shippingDetails" : {
    "city" : "Cambridge",
    "country" : "GB",
    "recipientName" : "Jane Smith",
    "street" : "321 Daffodil Lane",
    "street2" : "#12",
    "zip" : "EL321",
    "phone" : "4412345785"
  }
}
```

<a name="shippingdetailsusageobject" title="shippingDetailsUsage Object"></a>
## shippingDetailsUsage

**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. See [3D Secure 2 documentation](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/) for more information.

|Element                |Type                   |Required   |Description|
|---                    |---                    |---        |---|
|cardHolderNameMatch    |boolean                |           |This indicates whether the cardholder name on the account is identical to the shipping name used for this transaction.|
|initialUsageDate       |UTC formatted date     |           |This is the date when the shipping address for this transaction was first used with the 3D Secure Requestor. The ISO 8601 date format is expected, i.e., YYYY-MM-DD.|
|initialUsageRange      |enumeration            |           |This is the length of time between the first use of this shipping address and the current transaction. Possible values are:<br/><ul><li>CURRENT_TRANSACTION</li><li>LESS_THAN_THIRTY_DAYS</li><li>THIRTY_TO_SIXTY_DAYS</li><li>MORE_THAN_SIXTY_DAYS</li></ul>|

```apib
{
    "cardHolderNameMatch": true,
    "initialUsageDate": "2014-01-26",
    "initialUsageRange": "CURRENT_TRANSACTION"
}
```

<a name="shoppingCart-object" title="shoppingCart Object"></a>
## shoppingCart Object

**Note:** The *totalAmount* provided in the initial order must add up to the amounts (and [Ancillary Fees](#ancillaryFees-object)) passed in the *shoppingCart* section.

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|amount |integer |Yes |  This is the total amount for the items in the shopping cart in minor units. E.g., 999 would be $9.99 | 
|description |string<br>`length<=50`|Yes|This is the merchant's description of the shopping cart item. It will appear on the payment page. <br></br><br></br>**Note:** The *description* label on the payment page is not localized, regardless of the language specified in the locale settings (see [Localization](#localization)). So, for example, if the description included were "Hammer", and the localization settings were for French, "Hammer" would be displayed on the payment page, and not "Marteau".|
|sku |string<br>`length<=60`||This is your ID for the shopping cart item (e.g., the merchant's internal SKU or ID). It is not displayed on the payment page, but is reflected back upon querying an order status.|
|quantity|integer||This is the quantity of the shopping cart item. It will appear on the payment page.|

**Example**

```apib
{
  "shoppingCart" : [
    {
        "amount" : 500,
        "quantity" : 2,
        "sku" : "id/sku-1",
        "description" : "Wrench"
    },
    {
        "amount" : 200,
        "quantity" : 1,
        "sku" : "id/sku-2",
        "description" : "Hammer"
    }
    ]
}
```

<a name="supplierDetails-object" title="supplierDetails Object"></a>
## supplierDetails Object

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
|city |string<br>`length<=40` ||The city in the shipping address. | 
|email |string<br>`length<=100` ||The supplier’s email address. | 
|registeredName |string<br>`length<=90` ||The supplier's registered name. | 
|street |string<br>`length<=40` ||The street of the supplier's address. |
|url |string<br>`length<=90` ||The URL of the supplier's web site. |
|zip |string<br>`length<=10` ||The ZIP or postal code of the supplier's address. |

**Example**

```apib
{ 
  "supplierDetails":
    {
        "street":"Street",
        "city":"City",
        "email":"test@test.com",
        "registeredName":"Registered Name",
        "url":"https://www.test.com/",
        "zip":"ZIP123"
    }
}
```

<a name="traveldetailsobject" title="Travel Details Object"></a>
## travelDetails

**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. See [3D Secure 2 documentation](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/) for more information.

|Element                |Type                       |Required   |Description|
|---                    |---                        |---        |---|
|isAirTravel            |boolean                    |           |This indicates whether the transaction is an air travel related purchase, e.g., a ticket purchase. <br/>**Note:** This field defaults to *false*.|
|airlineCarrier         |string<br/>`length<=256`   |           |This is the selected airline carrier. <br/>**Note:** Required if *isAirTravel* is *true*.|
|departureDate          |UTC formatted date         |           |This is the date of departure in the time zone of the departure location. The ISO 8601 date format is expected, i.e., YYYY-MM-DD.<br/>**Note:** Required if *isAirTravel* is *true*.|
|destination            |string<br/>`length<=5`     |           |This is the airport code of the destination airport.<br/>**Note:** Required if *isAirTravel* is *true*.|
|origin                 |string<br/>`length<=5`     |           |This is the airport code of the originating airport.<br/>**Note:** Required if *isAirTravel* is *true*.|
|passengerFirstName     |string<br/>`length<=99`    |           |This is the first name of the cardholder from the billing details.<br/>**Note:** Required if *isAirTravel* is *true*.|
|passengerLastName      |string<br/>`length<=99`    |           |This is the last name of the cardholder from the billing details.<br/>**Note:** Required if *isAirTravel* is *true*.|

```apib
{
    "isAirTravel": true,
    "airlineCarrier": "Wizz air",
    "departureDate": "2014-01-26",
    "destination": "SOF",
    "origin": "BCN",
    "passengerFirstName": "John",
    "passengerLastName": "Smith"
}
```

<a name="useraccountdetailsobject" title="userAccountDetails Object"></a>
## userAccountDetails

**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. See [3D Secure 2 documentation](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/) for more information.

|Element                                                        |Type                                              |Required |Description|
|---                                                            |---                                               |--- |---       |
|addCardAttemptsForLastDay                                      |number<br/>`max=999`                              | |This is the number of Add Card attempts in the last 24 hours.|
|changedDate                                                    |UTC formatted date                                | |This is the date that the cardholder’s account with the 3DS Requestor was last changed. The ISO 8601 date format is expected, i.e., YYYY-MM-DD.|
|changedRange                                                   |enumeration                                       | |This is the length of time between the most recent change to the cardholder’s account information and the API call of the current transaction. Possible values are:<br/><ul><li>DURING_TRANSACTION</li><li>LESS_THAN_THIRTY_DAYS</li><li>THIRTY_TO_SIXTY_DAYS</li><li>MORE_THAN_SIXTY_DAYS</li></ul>|
|createdDate                                                    |UTC formatted date                                | |This is the date when the cardholder opened the account with the 3DS Requestor. The ISO 8601 date format is expected, i.e., YYYY-MM-DD.|
|createdRange                                                   |enumeration                                       | |This is the length of time between the cardholder opening the account with the 3DS Requestor and the API call of the current transaction. Possible values are:<br/><ul><li>NO_ACCOUNT</li><li>DURING_TRANSACTION</li><li>LESS_THAN_THIRTY_DAYS</li><li>THIRTY_TO_SIXTY_DAYS</li><li>MORE_THAN_SIXTY_DAYS</li></ul>|
|passwordChangedDate                                            |UTC formatted date                                | |This is the date when the cardholder’s account was reset or the password was changed. The ISO 8601 date format is expected, i.e., YYYY-MM-DD.|
|passwordChangedRange                                           |enumeration                                       | |This is the length of time between the most recent password change or cardholder account reset and the API call of the current transaction. Possible values are:<br/><ul><li>NO_CHANGE</li><li>DURING_TRANSACTION</li><li>LESS_THAN_THIRTY_DAYS</li><li>THIRTY_TO_SIXTY_DAYS</li><li>MORE_THAN_SIXTY_DAYS</li></ul>|
|[paymentAccountDetails](#paymentaccountdetailsobject)          |complex                                           | |These are the details of the current payment account of the cardholder.|
|[priorThreeDSAuthentication](#priorthreedsauthenticationobject)|complex                                           | |This is the previous authentication information used with current merchant, cardholder, and card.|
|[shippingDetailsUsage](#shippingdetailsusageobject)            |complex                                           | |This is the shipping usage information.|
|suspiciousAccountActivity                                      |boolean                                           | |This indicates whether the 3DS Requestor has experienced suspicious activity, including previous fraud, on the cardholder account.|
|totalPurchasesSixMonthCount                                    |number<br/>`max=9999`                             | |This is the total number of purchases from this cardholder account in the previous six months.|
|transactionCountForPreviousDay                                 |number<br/>`max=999`                              | |This is the number of transactions (successful and abandoned) for this cardholder account with the 3D Secure Requestor across all payment accounts in the previous 24 hours.|
|transactionCountForPreviousYear                                |number<br/>`max=999`                              | |This is the number of transactions (successful and abandoned) for this cardholder account with the 3D Secure Requestor across all payment accounts in the previous year.|
|[travelDetails](#traveldetailsobject)                          |complex                                           | |These are the Amex-specific travel details. <br/> **Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*.|
|[userLogin](#userloginobject)                                  |complex                                           | |This is the cardholder login information.|

```apib
{
    "addCardAttemptsForLastDay": 1,
    "changeDate": "2014-01-26",
    "changeRange": "DURING_TRANSACTION",
    "createdDate": "2014-01-26",
    "createdRange": "NO_ACCOUNT",
    "passwordChangeDate": "2014-01-26",
    "passwordChangeRange": "NO_CHANGE",
    "paymentAccountDetails": {
      "createdRange": "NO_ACCOUNT",
      "createdDate": "2014-01-26"
    },
    "priorThreeDSAuthentication": {
      "data": "Some up to 2048 bytes undefined data",
      "method": "FRICTIONLESS_AUTHENTICATION",
      "id": "123e4567-e89b-12d3-a456-426655440000",
      "time": "2014-01-26T10:32:28Z"
    },
    "shippingDetailsUsage": {
      "cardHolderNameMatch": true,
      "initialUsageDate": "2014-01-26",
      "initialUsageRange": "CURRENT_TRANSACTION"
    },
    "suspiciousAccountActivity": true,
    "totalPurchasesSixMonthCount": 1,
    "transactionCountForPreviousDay": 1,
    "transactionCountForPreviousYear": 3,
    "travelDetails": {
      "isAirTravel": true,
      "airlineCarrier": "Wizz air",
      "departureDate": "2014-01-26",
      "destination": "Bulgaria",
      "origin": "China",
      "passengerFirstName": "John",
      "passengerLastName": "Smith"
    },
    "userLogin": {
      "authenticationMethod": "NO_LOGIN",
      "data": "Some up to 2048 bytes undefined data",
      "time": "2014-01-26T10:32:28Z"
    }
}
```

<a name="userloginobject" title="userLogin Object"></a>
## userLogin

**Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*. See [3D Secure 2 documentation](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/) for more information.

|Element                |Type                       |Required   |Description|
|---                    |---                        |---        |---|
|authenticationMethod   |enumeration                |           |This is the mechanism used by the cardholder to authenticate to the 3DS Requestor. Possible values are:<br/><ul><li>NO_LOGIN</li><li>INTERNAL_CREDENTIALS</li><li>FEDERATED_ID</li><li>ISSUER_CREDENTIALS</li><li>THIRD_PARTY_AUTHENTICATION</li><li>FIDO_AUTHENTICATOR</li></ul>|
|data                   |string<br/>`max=2048 bytes`|           |This field is reserved for future iterations of 3D Secure 2.|
|time                   |UTC formatted date         |           |This is the date and time of the cardholder authentication. The ISO 8601 date format is expected, i.e., YYYY-MM-DD-THH:MM:SSZ.|

```apib
{
    "authenticationMethod": "NO_LOGIN",
    "data": "Some up to 2048 bytes undefined data",
    "time": "2014-01-26T10:32:28Z"
}
```

<a name="visaAdditionalAuthData-object" title="visaAdditionalAuthData ObjectS"></a>
## visaAdditionalAuthData Object

The recipient is deemed to be the person or party who has the contractual relationship with the merchant/financial institution. This may be different from the cardholder, e.g., in the case of a parent topping up a child's savings account. Therefore, the fields should not be collected on the same page as cardholder information, but instead be passed in the background from the merchant’s records.

**Note:** Include _recipientDateOfBirth_ elements if your Merchant Category Code is 6012 and your registered trading address is in the United Kingdom. If you have any questions, contact your account manager. All fields are optional. However, scheme fines may apply if data is consistently not supplied and chargebacks persist.

|Element                 |Type                      |Required       |Description|
|---                     |---                       |---            |---|
| recipientDateOfBirth.day|integer<br>`1-31`|| This is the recipient's day of birth. | 
| recipientDateOfBirth.month |integer<br>`1-12` || This is the recipient's month of birth. |
| recipientDateOfBirth.year | integer<br>`length=4` ||The is the recipient's year of birth. |
| recipientZip |string<br>`length<=10`||This is the recipient‘s postcode.<br></br><br></br>**Note:** The last 3 characters are not sent to the banking network. |
| recipientLastName |string<br>`length<=40`||This is the recipient‘s last name or surname.<br></br><br></br>**Note:** Only the first 6 characters are sent to the banking network. |
| recipientAccountNumber |string<br>`length<=25`|| This is the recipient‘s account number, e.g., a loan agreement number or customer ID. <br></br><br></br>**Note:** Only the first 6 and last 4 characters are sent to the banking network and will be masked accordingly within the back office and any other reports, to comply with PCI regulations.|

**Example**

```apib
 {
    "visaAdditionalAuthData": {
        "recipientDateOfBirth": {
            "day": 29,
            "month": 1,
            "year": 2001
        },
        "recipientZip": "CB24 9AD",
        "recipientLastName": "Smith",
        "recipientAccountNumber": "ABC1234567890"
    }
}
```


<a name="error-summary" title="Error Summary"></a>
# Error Summary

This is a summary of all errors that could be returned when using the Hosted Payments API, including HTTP Status Codes.

1xx: Informational – Communicates transfer protocol–level information.

2xx: Success – Indicates that the client’s request was accepted.

3xx: Redirection – Indicates that the client must take some additional action in order to complete the request.

4xx: Client Error – Indicates that the client has made an error with the request.

5xx: Server Error – Indicates that an error occurred on the server side.

<a name="common-http-response-status-codes" title="Common HTTP Response Status Codes"></a>
## Common HTTP Response Status Codes

| Status Code               | Description |
|---                        |---          |
|200 OK                     | Everything worked as expected.|
|201 CREATED                | The request was successful. Paysafe created a new resource and the response body contains the representation.|
|202 ACCEPTED               | This indicates that the client’s request will be handled asynchronously. It tells the client that the request appears valid, but it still may have problems once it is processed.|
|204 NO CONTENT             | This is usually returned in response to a PUT, POST, or DELETE request, when the REST API declines to send back any status message or representation in the body of the response message.|
|304 NOT MODIFIED           | The client's cached version of the representation is still up to date.|
|400 BAD REQUEST            | This often indicates that a required parameter is missing or that a parameter is invalid. This is a generic client-side error status, used when no other 4xx error code is appropriate.|
|401 UNAUTHORIZED           | This indicates that the client tried to operate on a protected resource without providing the proper authorization. They may have provided the wrong credentials or none at all.|
|402 PAYMENT REQUIRED       | The parameters were valid but the request failed.|
|404 NOT FOUND              | The requested resource does not exist.|
|405 METHOD NOT ALLOWED     | The client tried to POST or PUT to a resource that would not accept it.|
|415 UNSUPPORTED MEDIA TYPE | The request is in a format not supported by the requested resource for the requested method.|
|429 TOO MANY REQUESTS      | The application is sending too many simultaneous requests.|
|500 INTERNAL SERVER ERROR  | An error occurred with an internal server.|
|502 EXTERNAL SERVER ERROR  | We received an invalid response from the upstream gateway in attempting to fulfil the request.|

<a name="hosted-payment-specific-errors" title="Hosted Payment Specific Errors"></a>
## Hosted Payment Specific Errors

| HTTP Status |Code                           |Description |
|---          |---                            |---          |
| 400         |"Cannot update transaction"    | You are attempting to update a transaction that cannot be updated. E.g., you are attempting to update a rebill for which the *dueDate* has passed. |
| 400         |"Duplicate merchant reference"   | You are attempting a transaction using a *merchantRefNum* that has already been used.|
| ---         |"Duplicate merchantCustomerId - Existing profile id XXXX" | You are attempting to create a profile using a *merchantCustomerId* that has already been used. |
| ---         |"You submitted an expired credit card number with your request. Please verify this parameter and retry the request."|The *cardExpiryYear* and *cardExpiryMonth* parameters indicate that the card has expired.|
| ---         |"Invalid Id"|You have provided an invalid ID with your request.|
| ---         |"Invalid profileId"|A profile could not be loaded for the *profileId* provided.|
| 401         |"Not authorized"|You have provided an invalid API key with your request.|
| 400         |"Authorization denied" |The authorization was denied because both a payment token and a credit card number were submitted with the request.|
| 400         |"Amount exceeds refundable amount"|You are attempting to refund an amount that is greater than the original transaction amount (minus the sum of any existing refunds against the transaction).|
| 400         |"Request validation failed: currency_code invalid: ' ' is not a valid ISO 4217 currency code"|You have provided an invalid *currencyCode* parameter with your request.|
| 400         |"Request validation failed: merchant\_ref_num invalid: required field"|You have provided an invalid *merchantRefNum* parameter with your request.|
| 400         |"Request validation failed: total\_amount invalid: required field" or "Request validation failed: total\_amount invalid : '10.00' not an integer"|You have provided an invalid *totalAmount* parameter with your request.|
| 400         |"Resend callback failed"|Your attempt to resend a callback failed.|
| ---         |"Time for completing payment has expired"|You are attempting to complete a payment for which the *orderTimeout* period has expired.|
| 531         |"Transaction already processed"|You are attempting to make a second payment against a completed order.|
| 400         |"Transaction not yet processed"|You are attempting to refund is a transaction that has not been processed.|

<a name="using_example_API_Calls_console" title="Using the example API calls (Console Window)"></a>
# Using the example API calls (Console Window)
To configure and test the API examples, first click on one of the API calls in the API Reference section and then click **Switch to Console** in the right hand pane. 
Using the Console window you can update the headers, the request body, and parts of the API endpoint. 
For example, for many requests you must update the endpoint to include your account ID, which you do by selecting **URI Parameters** and then updating the **ACCOUNT_ID** value. 
(To get your account ID, log into the Paysafe Back Office, choose **Accounts** and look in the *Account* column).
You must also update the Header to include your API Key by selecting **Headers** and then updating the **Authorization** value using the Base64
version of your API key. To get your API key, log into the test version of the Merchant Back Office and choose **Settings > API Key**. 
Click *View Base 64 Encoded* and copy the key to your clipboard. Paste the key after the word Basic to replace the text YOUR-BASE64-ENCODED-API-KEY.
When you are ready to test your example, you can choose between the Production and Mock server environment:
* Production server – This calls the resource on Paysafe's Test system. 
* Mock server – This environment simply returns the dummy values in the example response irrespective of the parameters you supply. You do not need to use your account ID or Test API key for this request.

To call the API resource, click **Call Resource**. The response is displayed in the Console window.

# Legal and Community
<ul>
<li><a href="https://www.paysafe.com/paysafegroup/privacy-policy/" target="_blank">Privacy Policy</a></li>
<li><a href="https://developer.paysafe.com/en/resources-and-support/terms-of-use/" target="_blank">Terms of Use</a></li>
<li><a href="https://www.paysafe.com/paysafegroup/regulatory-disclosures/" target="_blank">Regulatory Disclosures</a></li>
<li><a href="http://community.paysafe.com/spaces/11/index.html" target="_blank">FAQs</a></li>
<li><a href="http://community.paysafe.com/index.html" target="_blank">Community</a></li>
<li><a href="http://community.paysafe.com/spaces/10/index.html" target="_blank">Paysafe Blog</a></li>
</ul>

## Verify the Service is Accessible [GET /monitor]
<a name="verify_service_is_accessible" title="Verify the Service is Accessible"></a>

This call returns a status of READY if the API is available.

+ Response 200 (application/json)

  + Body
    
            {
                "status" : "READY"
            }


# Group Orders
<a name="orders" title="Orders"></a>

## Process an Order [POST /v1/orders]
<a name="process_order" title="Process an Order"></a>

**Process an Order with a Hosted Payment Page**
<a name="process_order_hosted" title="Process an Order with a Hosted Payment Page"></a>

The mandatory and optional parameters for processing an Order request are listed below. For a detailed description of the attributes listed here, please refer to the [Order object](#order-object)

**Required Parameters**
* merchantRefNum
* currencyCode
* totalAmount

**Optional Parameters**
* customerIp
* id      
* customerNotificationEmail      
* merchantNotificationEmail 
* merchantDescriptor
* profile        
* shoppingCart      
* ancillaryFees 
* billingDetails 
* shippingDetails 
* supplierDetails
* callback 
* redirect 
* link 
* paymentMethod          
* addendumData 
* locale            
* extendedOptions      
* associatedTransactions
* accordD        
* visaAdditionalAuthData  
* dueDate

**Note:** Though the *customerIp* parameter is not mandatory, Paysafe recommends including it for additional security. 

See [Order object](#order-object) for more optional parameters

Note the following:

* As a result of a successful call to the API, Paysafe will provide you with a *hosted_payment* URL, which is the URL of the payment page. To load the payment page, visit the link, or redirect your customer to the link from your shopping cart/back-end system. By default, the payment page is locked to the IP address that was passed in via the original request.
* The link section is an array. It is necessary to iterate through this array to identify the *hosted_payment* rel, and redirect your customer to the URI specified.
* The status of the transaction can be tracked using the *self* URL, or you can specify a callback address in the initial call (see [callback Object](#callback-object)).

**WARNING:** The secure version of the order ID returned in the hosted_payment URI (53616c7465645f5ffeb47c2287dbf903bbb4627b16929a27b8d09b37db190a0f6ce44f8ea1461be2 in the example) must be used to load payment pages because there is no API key present in the payment URL. The normal ID (i.e., 25TWPTLHRR81AIG1LF) can be used for the other API calls because the merchant must use their API key for those calls.

<br></br>
**Process an Order with a Silent Post**
<a name="process-an-order-silent-post" title="Process an Order with a Silent Post"></a>

A Silent Post (or Direct Post) order enables customer data to be posted directly from a merchant-hosted payment page to Paysafe systems without using a Hosted Page. This can avoid full PCI compliance overhead, since card data does not touch merchant systems on the server side. 

However, since the introduction of PCI DSS v3.0 there are some important caveats to consider with this approach. PCI DSS v3.0 introduces a new self-assessment requirement, A-EP, for merchants processing card transactions using the Silent Post (or Direct Post) model. Please refer to [PCI DSS guidelines](https://www.pcisecuritystandards.org/documents/PCI_DSS_v3.pdf) for more details.

The mandatory and optional parameters for processing an Order request are listed below. For a detailed description of the parameters listed, refer to the [Order object](#order-object)

**Required Parameters**
* merchantRefNum
* currencyCode
* totalAmount
* extendedOptions
  * key = silentPost
  * value = true

Once you receive a successful response, create a post to the *hosted_payment* URL you have just received in the response, and include the credit card parameters from the following table, which you will have collected from your e-commerce site:

| Element | Type | Required | Description |
|---- |---  |--- |---  |
| cardNum | string<br>`length=8-20` | yes | This is the full card number. |
| cardExpiryMonth | integer<br>`length<=2` | yes | This is the month the card expires. |
| cardExpiryYear | integer<br>`length=4` | yes | This is the year the card expires. |
| cvdNumber | string<br>`length=3-4` | yes | This is the 3- or 4-digit security code that usually appears on the back of the card. |
| storeCardIndicator | boolean || This indicates whether the customer has granted permission to store card details for future use within their associated profile (if applicable).  |

* The SUBMIT action of your payment form should be to the *hosted_payment* URL.
* If 3D Secure is enabled, then after a Silent Post the 3D Secure challenge will appear in a full, unbranded page on the Paysafe system. After the 3D Secure challenge, the system will redirect as per the *rel* and *uri* values that you specified (see [redirect Object](#redirect-object)).

**Note:** Depending on your payment method, you may have to post different parameters to the *hosted_payment* URL. See [Silent Post Considerations](#silent-post-considerations) for details.

<br></br>
**Create a Profile with an Order**
<a name="create-a-profile-with-an-order" title="Create a Profile with an Order"></a>

The Hosted Payments API allows merchants to create customer profiles for their customers inline with the order request. Once a customer profile is created, it can be used to accept payments from the customer. 
The profile information is also used to populate the customer name field of the billing address displayed on the payment page. See [profile Object](#profile-object) for details on adding a profile object to the Order JSON structure.
The Hosted Payments API customer profile feature allows your customers to securely store their card details with Paysafe for future use during order processing. When the customer is redirected to the Hosted Payments page, they will see an option to store their card details. If this option is selected by the customer, the next time the payment page is displayed their stored card data will be displayed providing the profile id (see [profile Object](#profile-object)) is passed in with the order creation request.
 
<br></br>
**Note:** *paymentToken* is only returned once a payment has been successfully processed against the order, e.g., in the GET request on a successful order, or in the callback parameters (if requested).

The Hosted Payments API customer profile feature offers customers the following options on the Hosted Payments page:
* Store multiple cards
* Set a card as default
* Forget (remove) cards
* Edit card expiry dates
* Add/edit billing addresses

**Process an Order with a Payment Token**
<a name="process_order_with_token" title="Process an Order with a Payment Token"></a>

After a customer profile (see [profile Object](#profile-object)) has been created and a payment processed (assuming the customer has selected the option to store card details), a profile *paymentToken* is created, and stored against the order. This can be retrieved via a GET request, or retrieved as a callback option, depending on how your order has been configured.

Providing the *paymentToken* (along with the associated profile *id*) in the profile section of a new order will select the card used in the initial transaction on the hosted page.

Once a customer profile has been created (see [profile Object](#profile-object)), the *id* can be used to securely store the customer's card details with Paysafe for future use. When the customer is redirected to the Hosted Payments page, they will see an option to store their card details. When the profile *id* is passed in with subsequent order requests, all card information associated with profile will be displayed to the customer. The customer can then select the payment card they want to use for the order. If no cards are yet associated with the profile *id*, then any other profile information, like the customer's address, will be displayed on the payment page.


**3DS 2 Initial Recurring Transactions**

A recurring transaction is an agreement between a cardholder and a merchant providing goods/services that essentially authorizes the charging of periodic, automatic payments during a set amount of time. The initial recurring transaction with 3DS 2 needs to have the following parameters:
<ul><li>extendedOptions</li>
<li>key = storedCredentialType</li>
<li>value = RECURRING or TOPUP</li>
<li>key = storedCredentialOccurrence</li>
<li>value = INITIAL</li></ul>

+ Request Process an Order with a Hosted Page (application/json)

 + Headers
 
             Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

  + Attributes
        + merchantRefNum (string, required) - This is your own transaction ID, for your reference purposes. This should be unique for each transaction.
        + currencyCode:GBP (string, required) - This is the currency in which to process the transaction. See [Currency Codes](#currency-codes) for a list of codes.
        + totalAmount:1125 (number, required) - This is the total amount of the transaction. Merchants can provide zero (0) as an amount, if they need to process a verification with no value on the card. In this case, the *authType* must be set to *auth* using the *extendedOptions* feature.
        + merchantDescriptor (merchantDescriptor, optional) - The [merchantDescriptor object](#merchantDescriptor-object) allows you to set the description of the transaction that the customer sees on their bank statement.
        + customerIp:123.123.123.123 (string,optional) - The value should be the incoming IP address of your customer, which will restrict the payment page to being viewable only from this IP address.
        + id: 25TWPTLHRR81AIG1LF (string,optional)  - This ID represents the original order request. This ID will be used for subsequent transactions associated with the original request, such as making a payment or requesting an order status.
        + customerNotificationEmail :john.smith@email (string,optional) - This is the customer’s email address, to which notifications regarding the purchase request are sent. 
        + merchantNotificationEmail :sample.merchant@email.com (string,optional) - This is the merchant’s email address, to which notifications regarding the purchase request are sent.
        + profile (profile, optional) - The [profile object](#profile-object) allows you to create a customer profile with the order.
        + shoppingCart (array[shoppingCart], optional) - The [shoppingCart object](#shoppingCart-object) allows you to add shopping cart information to the order.
        + ancillaryFees (array[ancillaryFees], optional) - The [ancillaryFees object](#ancillaryFees-object) allows you to add ancillary fees to the order.
        + billingDetails (billingDetails, optional) - The [billingDetails object](#billingDetails-object) allows you to add billing details to the order.
        + shippingDetails (shippingDetails,optional) - The [shippingDetails object](#shippingDetails-object) allows you to add shipping details to the order.
        + supplierDetails (supplierDetails,optional) - The [supplierDetails object](#supplierDetails-object) allows you to add supplier details to the order.
        + callback (array[callback],optional) - The [callback object](#callback-object) allows you to add callbacks to the order.
        + redirect (array[redirect],optional) - The [redirect object](#callback-object) allows you to add redirects to the order. Redirects cause a connection back to the merchant system via the customer's browser.
        + link (array[link],optional) - The [link object](#link-object) allows you to add links to the order. You can add different links – e.g., to allow a customer to cancel a payment and return to the shopping cart.
        + paymentMethod (array,optional) - This allows you to add payment methods to the order. 
           + (enum)
             + card
             + giropay
             + interac
             + neteller
             + paypal
             + sofortbanking
        + addendumData (array[addendumData],optional) - This allows you to specify additional data (e.g., affiliate codes, session IDs, etc.) to be stored against the transaction and returned to you in status calls, reports, etc.
        + locale (enum,optional) -  This allows you to display your payment/receipt pages and emails using the locale requested. If the locale parameter is not passed or if an unsupported ISO 639-1 code is sent to the API then the default value provided in the merchant’s integration configuration will be used.
            + en_GB - UK English
            + en_US - American English
            + fr_CA - Canadian French
            + fr_FR - European French
        + extendedOptions (array[extendedOptions],optional) - This allows you to activate/deactivate certain features in the payment system. See [extendedOptions object](#extendedoptions-object) for details
        + associatedTransactions (array[associatedTransactions],optional) - In a response, this is any transaction relating to the original request (e.g., the refund of a settlement). 
        + accordD (accordD,optional) - The accordD object allows the merchant to specify a financing plan along with the regular order. 
        + visaAdditionalAuthData (visaAdditionalAuthData,optional) - This allows additional authorization data to be included with a request using Visa as a payment method. 
        + dueDate:`2019-01-20` (string,optional) - The date the order request will be processed in YYYY-MM-DD (UTC) format. Include this parameter only when processing a rebill ([see Process a Rebill Using an Order ID](#see-process-a-rebill-using-an-orderid)).
        + Include 3D Secure 2

  + Body

                {
                    "customerIp" : "123.123.123.123",
                    "merchantRefNum" : "MERCHANT_REF_123",
                    "currencyCode" : "GBP",
                    "totalAmount" : 1125,
                    "customerNotificationEmail" : "john.smith@email.com"
                }
        
+ Response 200 (application/json)

  + Attributes
        + link (array[link],optional) - The [link object](#link-object) returns the following links for an order: *self* which points to the order and *hosted_payment* which contains the hosted payment URL.
        + currencyCode:GBP (enum) - This is the currency used for the order. See [Currency Codes](#currency-codes).
        + amount:999 (number) - This is the amount of the transaction in minor units. E.g., 999 = $9.99.
        + mode (enum) - This element is for internal use only. *live* is currently the only possible value.
           + live
        + type (enum) - This is the transaction type. It will be set to *order*.
           + order
        + id:25TWPTLHRR81AIG1LF (string) - This is the order ID provided by Paysafe.
        + merchantRefNum:MERCHANT_REF_123 (string) - This is the merchant transaction ID assigned in the order request, for reference purposes.
        
  + Body
    
            {
                "link" : [
                    {
                        "rel" : "hosted_payment",
                        "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5ffeb47c2287dbf903bbb4627b16929a27b8d09b37db190a0f6ce44f8ea1461be2"
                    },
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/order/25TWPTLHRR81AIG1LF"
                    }
                ],
                "currencyCode" : "GBP",
                "amount" : 1125,
                "mode" : "live",
                "type" : "order",
                "id" : "25TWPTLHRR81AIG1LF",
                "merchantRefNum" : "MERCHANT_REF_123"
            }
            
            
+ Request Process an Order with a Silent Post (application/json)

 + Headers
 
             Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
            
 + Body
    
            {
                "merchantRefNum": "MERCHANT_REF_123",
                "currencyCode": "GBP",
                "totalAmount": 1125,
                "customerNotificationEmail": "jane.smythe@emailhost.com",
                "redirect": [
                    {
                        "rel": "on_success",
                        "uri": "https://api.test.netbanx.com/echo?payment=success"
                    },
                    {
                        "rel": "on_decline",
                        "uri": "https://api.test.netbanx.com/echo?payment=failure"
                    },
                    {
                        "rel": "on_error",
                        "uri": "https://api.test.netbanx.com/echo?payment=error"
                    }
                ],
                "extendedOptions": [
                    {
                        "key": "silentPost",
                        "value": "true"
                    }
                ]
            }
            
+ Response 200 (application/json)
       
  + Body
    
            {
                "link" : [
                    {
                        "rel" : "hosted_payment",
                        "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5ffeb47c2287dbf903bbb4627b16929a27b8d09b37db190a0f6ce44f8ea1461be2"
                    },
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/order/25TWPTLHRR81AIG1LF"
                    }
                ],
                "currencyCode" : "GBP",
                "amount" : 1125,
                "mode" : "live",
                "type" : "order",
                "id" : "25TWPTLHRR81AIG1LF",
                "merchantRefNum" : "MERCHANT_REF_123"
            }

+ Request Process an order with a Payment Token (application/json)

 + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

 + Body

            {
                "customerIp" : "123.123.123.123",
                "merchantRefNum" : "MERCHANT_REF_123",
                "currencyCode" : "GBP",
                "totalAmount" : 1125,
                "profile" : {
                     "id": "0275e76c-2141-11e4-8ac3-74cde64e5c68",
                     "paymentToken" : "SJsww3Eq33ezNvhM+jQRNoH/U4o7j0XJ4yrXtDMenLM"
               },
                "customerNotificationEmail" : "jane.smythe@emailhost.com"
            }

+ Response 200 (application/json)
       
  + Body
    
            {
                "link" : [
                    {
                        "rel" : "hosted_payment",
                        "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5ffeb47c2287dbf903bbb4627b16929a27b8d09b37db190a0f6ce44f8ea1461be2"
                    },
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/order/25TWPTLHRR81AIG1LF"
                    }
                ],
                "currencyCode" : "GBP",
                "amount" : 1125,
                "mode" : "live",
                "type" : "order",
                "id" : "25TWPTLHRR81AIG1LF",
                "merchantRefNum" : "MERCHANT_REF_123",
                "profile" : {
                    "id" : "0275e76c-2141-11e4-8ac3-74cde64e5c68",
                    "paymentToken" : "SJsww3Eq33ezNvhM+jQRNoH/U4o7j0XJ4yrXtDMenLM"
                    }
                }    

+ Request Create a Profile with an Order (application/json)
    
   + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
            
   + Body
    
                {
                "customerIp" : "123.123.123.123",
                "merchantRefNum" : "MERCHANT_REF_123",
                "currencyCode" : "GBP",
                "totalAmount" : 1125,
                "profile" : {
                    "merchantCustomerId" : "jane.smythe@emailhost.com",
                    "firstName" : "Jane",
                    "lastName" : "Smythe"
               },
                "customerNotificationEmail" : "jane.smythe@emailhost.com"
            }
    
    
+ Response 200 (application/json)
       
  + Body
    
                {
                "link" : [
                    {
                        "rel" : "hosted_payment",
                        "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5ffeb47c2287dbf903bbb4627b16929a27b8d09b37db190a0f6ce44f8ea1461be2"
                    },
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF"
                    }
                ],
                "currencyCode" : "GBP",
                "totalAmount" : 1125,
                "mode" : "live",
                "type" : "order",
                "id" : "25TWPTLHRR81AIG1LF",
                "merchantRefNum" : "MERCHANT_REF_123",
                "profile" : {
                  "id" : "ef4c09ac-213e-11e4-8ac3-74cde64e5c68",
                  "merchantCustomerId" : "jane.smythe@emailhost.com",
                  "paymentToken" : "SJsww3Eq33ezNvhM+jQRNoH/U4o7j0XJ4yrXtDMenLM",
                  "firstName" : "Jane",
                  "lastName" : "Smythe"
             } 
            }
    



## Cancel an Order [DELETE /v1/orders/{order_id}]
<a name="cancel-an-order" title="Cancel an Order"></a>

In order to cancel an order, call DELETE on an order URL. 

* If the order has been created but no card authorization has taken place, then the same structure as for a GET status will be returned, except that the *status* will be set to *cancelled*.
* If the order has been created and a card authorization has taken place but has not yet been settled, then the system will attempt to process a reversal on the authorization. The same structure as for a GET status will be returned, except that the *status* will be set to *cancelled*, and *transaction.reversed* will be set to true/false depending on the outcome of the reversal.

+ Parameters
    + order_id:25TWPTLHRR81AIG1LF (required, string) - Order ID
    
+ Request Delete an Order (application/json)

  + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
            
+ Response 200 (application/json)
       
  + Body
    
            {
                "currencyCode" : "GBP",
                "extendedOptions" : [],
                "link" : [
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/25TWPTLHRR81AIG1LF"
                    } 
                ],
                "merchantRefNum" : "QLB8W1BF6D3JDX4XKC",
                "id" : "25TWPTLHRR81AIG1LF",
                "totalAmount" : 7557,
                "transaction" : {
                    "amount" : 7557,
                    "associatedTransactions" : [],
                    "authType" : "purchase",
                "settled" : false,
                    "currencyCode" : "GBP",
                    "lastUpdate" : "2012-06-01T17:12:14",
                    "merchantRefNum" : "QLB8W1BF6D3JDX4XKC",
                "paymentType" : "card",
                    "refunded" : false,
                    "status" : "cancelled"
               }
            }
    
    
## Cancel a Held Order [PUT /v1/orders/{order_id}]
<a name="cancel-a-held-order" title="Cancel a Held Order"></a>

In order to cancel an order with a *transaction.status* of *held*, call PUT on an order URL with a status of cancelled. 

Required Parameters:
* status

An update response will have the same structure as GET status except  that when you update a held order, the status will be updated. See [Get an Order Status](#get-an-order-status).

+ Parameters
  
    + order_id:25TWPTLHRR81AIG1LF (required, string) - Order ID

+ Request (application/json)
 
     
 + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
    
 + Body
    
            {
                "transaction" : {
                "status": "cancelled"
                  }
            }
            

            
+ Response 200 (application/json)
       
  + Body

            {
                "currencyCode" : "GBP",
                "transaction" : {
                    "status" : "cancelled",
                    "lastUpdate" : "2012-05-14T15:12:18",
                    "authType" : "purchase",
                    "merchantRefNum" : "MERCHANT_REF_123",
                    "associatedTransactions" : [],
                    "currencyCode" : "GBP",
                    "refunded" : false,
                    "amount" : 1000,
                    "paymentType" : "card",
                    "settled" : false
                },
                "totalAmount" : 1000,
                "id" : "25TWPTLHRR81AIG1LF",
                "merchantRefNum" : "MERCHANT_REF_123"
            }
            

## Resend an Order Callback [GET /v1/orders/{order_id}/resend_callback]
<a name="resend-an-order-callback" title="Resend an Order Callback"></a>

Providing a suitable callback has been configured against the order, callbacks can be resent as shown in the example.

See [callback Object](#callback-object) for more details about callbacks.

+ Parameters
    + order_id:25TWPTLHRR81AIG1LF (required, string) - Order ID
    
+ Request (application/json)

    + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

+ Response 200 

# Group Rebill
<a name="process-a-rebill" title="Rebill"></a>   

There are two ways of processing a rebill:

* [Process a Rebill Using an Order ID](#process-a-rebill-using-an-orderid)
* [Process a Rebill Using a Profile](#process-a-rebill-using-a-profile)

**Note:** Cancelling a rebill request works in the same way as order cancellation. See [Cancel an Order](#cancel-an-order) for details. 


## Process a Rebill Using an Order ID [POST /v1/orders/{order_id}]
<a name="process-a-rebill-using-an-orderid" title="Process a Rebill Using an Order ID"></a>    

Rebills can be processed against your customer’s card by using a previously successful order ID. The rebill can be immediate or can be set up to run at a future date. 
A rebill request has the same parameter requirements as an order creation request, with the following exceptions:

**3DS 2 Subsequent Recurring Transactions**
The subsequent recurring transaction with 3DS 2 needs to have the following parameters:

extendedOptions:
<ul><li>key = storedCredentialType</li>
<li>value = RECURRING or TOPUP</li>
<li>key = storedCredentialOccurrence</li>
<li>value = SUBSEQUENT</li>
<li>key = initialTransactionId</li>
<li>value = The netbanx reference of the successful 3DS 2 Initial Recurring transaction related to this recurring sequence</li></ul>

* Do not include links and redirects, which are not applicable.
* If the rebill is for a future date, then you must include the *dueDate* parameter.

+ Parameters
    + order_id:25TWPTLHRR81AIG1LF (required, string) - Order ID
    
+ Request Immediate Rebill Request (application/json)

 + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

 + Body
   
               { "totalAmount": 100, 
                "currencyCode" : "GBP",
                "merchantRefNum": "MERCHANT_REF_123" 
            }

+ Response 200 (application/json)

 + Body
   
               {
                "currencyCode" : "GBP",
                "id" : "25TWPTLHRR81AIG1LF",
                "link" : [
                    {
                        "rel" : "hosted_payment",
                        "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5f628f1d45eba0ea540fa7051156f896fedfce5ef1c9593809f06335dc3274cb6a"
                    },
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF"
                    },
                    {
                        "rel" : "resend_callback",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF/resend_callback"
                    }
                ],
                "merchantRefNum" : "MERCHANT_REF_123",
                "totalAmount" : 100,
                "transaction" : {
                    "amount" : 100,
                    "associatedTransactions" : [ ],
                    "authCode" : "119490",
                    "authType" : "purchase",
                    "card" : {
                        "brand" : "visa",
                        "expiry" : "02/2019",
                        "lastDigits" : 1111,
                        "type" : "credit"
                    },
                    "confirmationNumber" : "269659940",
                    "currencyCode" : "CAD",
                    "houseNumberVerification" : "Matched",
                    "merchantRefNum" : "MERCHANT_REF_123",
                    "paymentType" : "card",
                    "status" : "success",
                    "zipVerification" : "Matched"
                }
            }

+ Request Future Rebill Request (application/json)

  + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

   + Body

            {
                "totalAmount": 100,
                "currencyCode": "GBP",
                "merchantRefNum": "MERCHANT_REF_123",
                "dueDate": "2014-09-24"
            }
            
+ Response 200 (application/json)

   + Body
   
               {
                "currencyCode": "GBP",
                "dueDate": "2014-09-24",
                "id": "25TWPTLHRR81AIG1LF",
                "link": [
                    {
                        "rel": "hosted_payment",
                        "uri": "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5f3f5446ca6c2d015eeb15b5a78acb761c1c0f3f217c2c7e506511a0a24a18b503"
                    },
                    {
                        "rel": "self",
                        "uri": "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF"
                    },
                    {
                        "rel": "resend_callback",
                        "uri": "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF/resend_callback"
                    }
                ],
                "merchantRefNum": "MERCHANT_REF_123",
                "mode": "live",
                "totalAmount": 100,
                "type": "order"
            }

  
## Process a Rebill Using a Profile [POST /v1/orders/{order_id}]
<a name="process-a-rebill-using-a-profile" title="Process a Rebill Using a Profile"></a>  

Rebills can be processed against your customer’s card by using a customer profile.   
A rebill request has the same parameter requirements as an order creation request, with the following exceptions:

* Do not include links and redirects, which are not applicable.
* If the rebill is for a future date, then you must include the *dueDate* parameter.

**Required Parameters**
* profile.id
* profile.paymentToken
* extendedOptions.recurringIndicator

The *recurringIndicator* option allows a payment to be processed without prompting the user to pick a card (or enter a new card) via the Hosted Payments page, or without resending the CVV (cvdNumber) when using a Silent Post (or Direct Post).

+ Parameters
    + order_id:25TWPTLHRR81AIG1LF (required, string) - Order ID

+ Request (application/json)

  + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

  + Body
  
              {
                "totalAmount" : "100",
                "currencyCode" : "GBP",
                "merchantRefNum" : "MERCHANT_REF_123",
                "profile" : {
                    "id" : "123456",
                    "paymentToken": "LgM8x0ymeXozGG1"
                },
                "extendedOptions": [
                    {
                    "key" : "recurringIndicator",
                    "value" : true
                    }
                ]
            }
  
+ Response 200 (application/json)  

  + Body
  
              {
                "currencyCode" : "GBP",
                "id" : "25TWPTLHRR81AIG1LF",
                "extendedOptions" : [
                {
                    "key" : "recurringIndicator", 
                    "value" : "true"
                }
                ],
                "link" : [
                    {
                        "rel" : "hosted_payment",
                        "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5f628f1d45eba0ea540fa7051156f896fedfce5ef1c9593809f06335dc3274cb6a"
                    },
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF"
                    },
                    {
                        "rel" : "resend_callback",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF/resend_callback"
                    }
                ],
                "merchantRefNum" : "MERCHANT_REF_123",
                "profile" : {
                    "id" : "123456",
                    "paymentToken": "LgM8x0ymeXozGG1"
                },
                "totalAmount" : 100,
                "type" : "order"
            }


# Group Order Status
<a name="order-status" title="Order Status"></a>

## Get an Order Status [GET /v1/orders/{order_id}]
<a name="get-an-order-status" title="Get an Order Status"></a>

To determine the status of an order request, use the *self* link (which is returned in the order creation response from Paysafe) from your application or from the command line. 
The parameters included in the order status response may include the parameters that were part of the original transaction request (see [Process an Order with a Hosted Page](https://developer.paysafe.com/en/classic-apis/hosted-payments/typical-api-calls/process-an-order-using-a-hosted-page/)).

The response contains all of the information you provided in the initial call, in the same structure, but with two additional elements:
* transaction
* link

In this example the status is *pending*, which means that the transaction has not been processed. This status will be updated if a payment is made and accepted

+ Parameters

    + order_id:`25TWPTLHRR81AIG1LF` (required, string) - Order ID
    
+ Request Get Order Status (application/json)

    + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

+ Response 200 (application/json)

    + Attributes
        + id (string,required) - This is the ID provided in the original order status transaction request.
        + currencyCode: GBP (enum,required) - This is the currency set for the order. See [Currency Codes](#currency-codes)
        + merchantRefNum(string,required)  - This is the merchant's transaction ID, included in the initial order request.
        + totalAmount (number) - This is the amount of the order that was processed in minor units. E.g., 999 is $9.99. It is the sum of all *shoppingCart* items + *ancillaryFees* (if provided).
        + transaction (transaction) - These are the order transaction details.
        + link (array[link]) - This is an array of links for this order.
        
    + Body
  
              {
                "link" : [
                    {
                        "rel" : "hosted_payment",
                        "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5ffeb47c2287dbf903bbb4627b16929a27b8d09b37db190a0f6ce44f8ea1461be2"
                    },
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF"
                    }
                ],
                "currencyCode" : "GBP",
                "transaction" : {
                    "status" : "pending",
                    "lastUpdate" : "2012-05-14T15:12:18",
                    "authType" : "purchase",
                    "merchantRefNum" : "MERCHANT_REF_123",
                    "associatedTransactions" : [],
                    "currencyCode" : "GBP",
                    "refunded" : false,
                    "amount" : 1000,
                    "paymentType" : "card",
                    "settled" : false
                },
                "totalAmount" : 1000,
                "id" : "25TWPTLHRR81AIG1LF",
                "merchantRefNum" : "MERCHANT_REF_123"
            }

# Group Order Status Response
<a name="order-status-response-parameters" title="Order Status Response"></a>

In addition to the parameters that were part of the original transaction request, the order status response may contain the following parameters.

**Generic Order Status Response Parameters**

| Parameter | Type | Description |
|--- |--- |--- |---
| id | string<br>`length<=128` | This is the ID provided in the original order status transaction request. |
| currencyCode | enumeration | This is the currency in which the transaction was processed. See [Currency Codes](#currency-codes) for a list. |
| merchantRefNum | string<br>`length<=40` | This is the merchant's transaction ID, included in the initial order request. |
| totalAmount | integer | This is the amount of the order that was processed. It is the sum of all *shoppingCart* items + *ancillaryFees* (if provided). E.g., 999 would be $9.99  |
| transaction.amount | integer | This is the amount of the transaction that was processed. E.g., 999 would be $9.99. |
| transaction.associatedTransactions | [associatedTransactions Object](#associatedTransactions-object) | This returns a JSON array of other transactions associated with the order, e.g., refunds and completions. Each member of the list refers to a specific operation that was executed against the order. For example, three refunds of $1.00 would show up as three individual *associatedTransactions* refunds, not as one refund of $3.00. See [associatedTransactions Object](#associatedtransactions-object) for a description of associated parameters. |
| transaction.authCode | string<br>`length<=50` | This is the authorization code assigned by the issuing bank and returned by Paysafe for the transaction. |
| transaction.authType | enumeration | This is the transaction type. Possible values are:<ul><li>auth – This is an authorization-only transaction.</li><li>purchase – This is a transaction with immediate billing.</li><li>settlement – This transaction is the settlement of a previous authorization-only transaction. </li><li>refund – This is a refund transaction. </li></ul>
| transaction.availableToRefund | integer | E.g., 999 would be $9.99 | This is the amount available to refund on the initial order. |
| transaction.card.brand | enumeration | This is the brand of the card used. Possible values are:<ul><li>amex (American Express)</li><li>cb (Carte Bleue)</li><li>discover</li><li>diners</li><li>international maestro </li><li>jcb</li><li>mastercard </li><li>mastercard debit </li><li>maestro </li><li>visa </li><li>visa debit</li><li>visa electron</li></ul>
| transaction.card.country | string<br>`length=2` | This is the country of origin for the card used. See [Country Codes](#country-codes). |
| transaction.card.expiry | string<br>`length=7`| This is the expiry date of the card used. Format = mm/yyyy |
| transaction.card.lastDigits | string<br>`length=4` | This is the last four digits of the card used. |
| transaction.card.threeDEnrolment | enumeration | This indicates the enrollment status of the card in the 3D Secure program. Possible values are:<ul><li>Y – Authentication available </li><li>N – Cardholder not enrolled</li><li>U – Authentication unavailable</li><li>E – Error </li></ul>
| transaction.card.threeDResult | enumeration | This indicates the outcome of the authentication request. Possible values are:<ul><li>Y – Cardholder successfully authenticated with their Card Issuer.</li><li>A – Cardholder authentication was attempted.</li><li>N – Cardholder failed to successfully authenticate with their Card Issuer.</li><li>U – Authentication with the Card Issuer was unavailable.</li><li>E – Error </li></ul>
| transaction.card.type | enumeration | This is the type of card used. Possible values are:<ul><li>debit</li><li>credit </li></ul>
| transaction.cleared | boolean | The transaction has been sent to the bank for clearing. |
| transaction.settled | boolean | The authorization-only transaction has been settled. |
| transaction.confirmationNumber | string<br>`length=20` | This is the confirmation number returned by Paysafe in response to the transaction request. |
| transaction.lastUpdate | dateTime UTC | This is the date and time of the last change made to the transaction, e.g., a refund. |
| transaction.paymentType | string<br>`length<=20` | This is the type of payment used for the transaction. Value will be set to:<ul><li>card</li><li>giropay</li><li>interac</li><li>neteller</li><li>paypal</li><li>sofortbanking</li></ul>
| transaction.refunded | boolean | This indicates that the transaction has been either fully or partially refunded.<br></br><br></br>**Note:** If this value is set to _true_, then check the value for _availableToRefund_ before attempting to issue a refund request. |
| transaction.reversed | boolean | This indicates whether a reversal has been attempted (e.g., a successful transaction that fails an AVS check, or a successful authorization that has been subsequently cancelled).|
| transaction.status | enumeration | This indicates the status of the transaction. Possible values are:<ul><li>success – Transaction has been authorized by bank/Paysafe.</li><li>cancelled – Transaction has been cancelled.</li><li>declined – Transaction has been declined by bank/Paysafe.</li><li>pending – Transaction has been created and is awaiting customer interaction.</li><li>abandoned – Transaction was abandoned part way through by the customer.</li><li>held – Transaction has been placed on hold due to risk rules results. See *transaction.riskReasonCode* for the reason code.</li><li>errored – An error occurred and the transaction could not be completed <br></br><br></br>**Note:** The merchant's account must be configured by Paysafe to be able to place transactions on hold. </li></ul>
| transaction.errorCode | integer | If an error occurs, this is the error number. |
| transaction.errorMessage | string | If an error occurs, this is the error message. |
| transaction.riskReasonCode | integer | If the transaction has a status of held, this value holds the reason code. |
| transaction.zipVerification | enumeration | This is the result of the AVS check received from the bank. Possible values are:<ul><li>Matched – The zip value provided matches the zip value associated with the card.</li><li>Not Matched – The zip value provided does not match the zip value associated with the card.</li><li>Not Checked – The zip value was not processed. </li></ul>
| transaction.houseNumberVerification | enumeration | This is the result of the AVS check received from the bank. Possible values are:<ul><li>Matched – The house number value provided matches the house number value associated with the card.</li><li>Not Matched – The house number value provided does not match the house number value associated with the card.</li><li>Not Checked – The house number value was not processed. </li></ul>
| transaction.cvdVerification | enumeration | This is the result of the CVD check received from the bank. Possible values are:<ul><li>Matched – The CVD value provided matches the CVD value associated with the card.</li><li>Not Matched – The CVD value provided does not match the CVD value associated with the card.</li><li>Not Checked – The CVD value was not processed. </li></ul>
| profile.paymentToken | string<br>`length<=80` | This is the payment token returned by Paysafe in response to the transaction request. It can be used to process a repeat payment. |
| profile.id  | string<br>`length<=80` | This is the customer ID of the profile created during the order request. |
| dueDate | date</br>`YYYY-MM-DD (UTC)`| This is the date the order request will be processed. |

**Payment Method–specific Order Status Response Parameters**

| Parameter | Type | Description |
|--- |---  |--- |
| transaction.giropay.giropay.TxId | string | This is the Giropay transaction ID. Please consult Giropay documentation for information about field lengths and constraints on field values. |
| transaction.giropay.paymentPurposeLine_1 | string | This is a Giropay merchant reference. |
| transaction.giropay.paymentPurposeLine_2 | string | This is a Giropay merchant reference. |
| transaction.giropay.transactionId | integer | This is a Giropay transaction ID. |
| transaction.giropay.fullBankResponse | string | This is the bank response code. |
| transaction.giropay.authCode | string | This is a Giropay authorization code. |
| transaction.giropay.operatorId | string | This is Giropay’s unique merchant identification. |
| transaction.giropay.beneficiaryName_1 | string | This is the first part of the beneficiary’s name. |
| transaction.giropay.beneficiaryName_2 | string | This is the second part of the beneficiary’s name. |
| transaction.giropay.beneficiaryAcctNo | integer | This is the beneficiary’s bank account number. |
| transaction.giropay.beneficiaryBankBlz | integer | This is the beneficiary’s bank ID. |
| transaction.giropay.beneficiaryBic | string | This is the beneficiary’s international Bank Identifier Code. |
| transaction.giropay.beneficiaryIban | string | This is the beneficiary’s International Bank Account Number. |
| transaction.giropay.customerAcctNo | integer | This is the customer’s bank account number. |
| transaction.giropay.customerBankBlz | integer | This is the customer’s bank ID. |
| transaction.giropay.customerBic | string | This is the customer’s international Bank Identifier Code. |
| transaction.giropay.customerIban | string | This is the customer’s International Bank Account Number. |
| transaction.giropay.transType | integer | This is the transaction type ID. |
| transaction.giropay.email | string | This is the customer’s email address. |
| transaction.giropay.currency | string | This is the 3-character currency code. |
| transaction.giropay.authResult | string | This is the result of the authorization. |
| transaction.giropay.extensionSic | integer | This is the expanded status code. |
| transaction.giropay.rc | integer | This is the return code. |
| transaction.giropay.merchantId | string | This is the merchant ID. |
| transaction.giropay.merchantReference | string | This is the merchant reference ID. |
| transaction.giropay.amount | integer | This is the amount of the payment. |
| transaction.giropay.merchantNumber | integer | This is the merchant number. |
| transaction.paypalToken | string | This is the PayPal token. Please consult PayPal documentation for information about field lengths and constraints on field values. |
| transaction.paypalTransactionId | string | This is the PayPal transaction reference ID. |
| transaction.neteller.net_account | string | This is the NETELLER account ID. Please consult NETELLER documentation for information about field lengths and constraints on field values. |
| transaction.neteller.neteller_type | string | This is the type of NETELLER payment. |
| transaction.neteller.fxrate | string | This is the foreign exchange rate applied (if applicable). |
| transaction.neteller.da_amount | string | The amount of the transfer that is being withdrawn from the bank account registered with the member’s NETELLER account. The amount may have decimal places but no currency symbols. |
| transaction.neteller.total_fee | string | This is the total fee charged for the transfer if it was a Direct Accept transaction (i.e., fee plus dafee). |
| transaction.neteller.trans_id | string | This is the NETELLER transaction ID. |
| transaction.neteller.dafee | string | The additional fee charged for the transfer if it was a Direct Accept transaction. |
| transaction.neteller.client_amount | string | This is the amount taken from the client’s NETELLER account. |
| transaction.neteller.client_currency | string | This is the client’s currency. |
| transaction.neteller.merchant_amount | string | The amount moved to to the merchant’s account. |
| transaction.neteller.merchant_currency | string | This is the merchant’s currency. |
| transaction.sofortBanking.sofortBankingTxId | string | This is the Sofort Banking transaction ID. Please consult Sofort Banking documentation for information about field lengths and constraints on field values. |
| transaction.sofortBanking.internationalTransaction | boolean | This is the flag for international transactions. |


# Group Update Orders
<a name="update-an-order" title="Update Orders"></a>

It is possible to update a subset of items relating to an order after it has been set up. Paysafe supports the following updates:

* [Update a Held Order](#update-a-held-order)
* [Update a Rebill Order](#update-a-rebill-order)


## Update a Held Order [PUT /v1/orders/{order_id}]
<a name="update-a-held-order" title="Update a Held Order"></a>

If an order has been held, the *transaction.status* of an order can be updated from *held* to either *success* or *cancelled*. 

**Note:** The merchant's account must be configured by Paysafe to be able to place transactions on hold.
For example, a merchant might want to accept high-risk payments but review them before accepting the successful authorization.

**Note:** When a held order is set to *cancelled*, an authorization reversal will be attempted.

The example releases an order to a status of *success*.   

See [Order Status Response Parameters](#order-status-response-parameters) to see additional parameters that may be included in the response.

+ Parameters
   + order_id:25TWPTLHRR81AIG1LF (required, string) - Order ID
    
+ Request Update a Held Order (application/json)
    
  + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

 + Body
    
            {
                "transaction" : {
                "status": "success"
              }
            }


+ Response 200 (application/json)

  + Body
  
            {
                "currencyCode" : "CAD",
                "status" : "success",
                "id" : "25TWPTLHRR81AIG1LF",
                "link" : [
                    {
                        "rel" : "hosted_payment",
                        "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5f4c747be10b6a34c447742147e74712ddf398dc3114dc7a469974b15a7d188d0c"
                    },
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF"
                    },
                    {
                        "rel" : "resend_callback",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF/resend_callback"
                    }
                ],
                "merchantRefNum" : "MERCHANT_REF_123",
                "mode" : "live",
                "totalAmount" : 1250,
                "type" : "order"
            }

## Update a Rebill Order [PUT /v1/orders/{order_id}]
<a name="update-a-rebill-order" title="Update a Rebill Order"></a>

If a rebill has not been processed, any details associated with that rebill can be updated (see [Process a Rebill](#process-a-rebill))

The example modifies the amount and date of a rebill. 


See [Order Status Response Parameters](#order-status-response-parameters) to see additional parameters that may be included in the response.


+ Parameters
   + order_id:25TWPTLHRR81AIG1LF (required, string) - Order ID
    
+ Request Get an Order Status (application/json)
    
  + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

 + Body
 
             {
                "dueDate" : "2015-06-01",
                "merchantRefNum" : "MERCHANT_REF_123",
                "currencyCode" : "CAD",
                "totalAmount" : 1250
            }

+ Response 200 (application/json)

  + Body
  
              {
                "currencyCode" : "CAD",
                "dueDate" : "2015-06-01",
                "id" : "25TWPTLHRR81AIG1LF",
                "link" : [
                    {
                        "rel" : "hosted_payment",
                        "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5f4c747be10b6a34c447742147e74712ddf398dc3114dc7a469974b15a7d188d0c"
                    },
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF"
                    },
                    {
                        "rel" : "resend_callback",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF/resend_callback"
                    }
                ],
                "merchantRefNum" : "MERCHANT_REF_123",
                "mode" : "live",
                "totalAmount" : 1250,
                "type" : "order"
            }


# Group Reports
<a name="reports" title="Reports"></a>

## Get an Order Report [GET /v1/orders?num={num}&start={start}]
<a name="get_order_report" title="Get an Order Report"></a>

A list of recently created/processed orders can be retrieved via the Hosted Payments API using a GET request.
* You can include an offset.
* You can include the number of records to return (up to 100).
* Use next and prev links, relative to the offset, to obtain the next/previous records (as applicable).

The following table lists the optional parameters for an order report:

| Element | Type | Description |
|---- |---  |---  |
|num | integer<br>`max<=100` | This is the number of records to return.|
|start | integer | This is the record number at which to start. For example, setting the value to 20 would start the report at the twentieth order.|

Many of the parameters included in the order report response are the same as those included in the order status response (see [Order Status Response Parameters](#order-status-response-parameters)). If everything is set up correctly, the server will respond with a JSON structure.
The full order (including all passed parameters and extended options) is returned in the array.
In the event that all orders are returned, no next/prev links will be supplied.


+ Parameters
    + num (integer,required) - This is the number of records to return.
    + start (integer,optional) - This is the record number at which to start. For example, setting the value to 20 would start the report at the twentieth order.

+ Request Get an Order Report

 + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

+ Response 200 (application/json)

  + Attributes
     + count (number) - This is the number of order records returned.
     + navigation (navigation) - This contains links to the prev or next set of records.
     + records (array[record]) - This is an array of records containing the data for each order. See [Order Status Response](#order-status-response) for all available parameters.
     + num (number) - This is the number of order records requested.
       
 + Body
    
                {
                "count" : 2,
                "navigation" : {
                    "prev" : "https://api.test.netbanx.com/hosted/v1/orders?num=2&start=0",
                    "next" : "https://api.test.netbanx.com/hosted/v1/orders?num=2&start=0"
                },
                "records" : [
                    {
                        "currencyCode" : "GBP",
                        "extendedOptions" : [],
                        "merchantRefNum" : "AFHXRY6PS2WFQNXR0K",
                        "id" : "25TWPTLHRR81AIG1LF",
                        "totalAmount" : 125,
                        "transaction" : {
                            "amount" : 125,
                            "associatedTransactions" : [],
                            "authType" : "purchase",
                            "settled" : false,
                            "currencyCode" : "GBP",
                            "lastUpdate" : "2012-05-31T09:08:32",
                            "merchantRefNum" : "AFHXRY6PS2WFQNXR0K",
                            "paymentType" : "card",
                            "refunded" : false,
                            "status" : "Success"
                        }
                    },
                  {
                        "currencyCode" : "GBP",
                        "customerIp" : "127.0.0.1",
                        "extendedOptions" : [],
                        "merchantRefNum" : "1",
                        "paymentMethod" : [
                            "card"
                        ],
                        "id" : "25TWPTLHRR81AIG1LF",
                        "totalAmount" : 150,
                        "transaction" : {
                            "amount" : 150,
                            "associatedTransactions" : [],
                            "authType" : "purchase",
                            "settled" : false,
                            "currencyCode" : "GBP",
                            "lastUpdate" : "2012-06-01T11:44:56",
                            "merchantRefNum" : "1",
                            "paymentType" : "card",
                            "refunded" : false,
                            "status" : "Success"
                        }
                    }
                ],
                "num" : 2
            }



# Group Refunds
<a name="refunds" title="Refunds"></a>

## Refund an Order [POST /v1/orders/{order_id}/refund]
<a name="refund-an-order" title="Refund an Order"></a>

The Hosted Payments API allows orders that have been processed against the merchant integration to be refunded. A refund can be processed against an order ID where the funds have been settled. 

**Note:** Until an order has been fully processed and funds cleared, it may be necessary to issue a cancellation instead of a refund.

By default, the refund operation will refund the full amount. Alternatively, the merchant can include the optional *amount* parameter for partial refunds.
An optional *merchantRefNum* parameter can also be included.

**Note:** It is not currently possible to process refunds with the Hosted Payments API for the following payment types:

* Giropay
* Sofort Banking

You will need to issue refunds via your merchant account with the relevant payment method.

The response parameters are described below:

| Element | Type | Description |
|---      |---   |---          |
| amount | integer |  This is the amount of the transaction that was refunded. E.g., 999 would be $9.99. |
| authType | enumeration | This is the transaction type. It will be set to: <ul><li>refund</li></ul> |
| confirmationNumber | Integer | This is the confirmation number returned by Paysafe in response to the refund request. |
| currencyCode | enumeration | This is the currency in which the transaction was refunded. See [Currency Codes](#currency-codes) for a list of codes. |
| mode | enumeration | This element is for internal use only. Possible values are currently: <ul><li>live</li></ul> |
| originalMerchantRefNum | string <br/>`length<=40` | This is the merchant transaction ID assigned in the original order request, for reference purposes. |
| id | string </br>`length<=128` | This is the order ID against which the refund has been requested. |

+ Parameters
   + order_id (required, string, `25TWPTLHRR81AIG1LF`) - Order ID
    
+ Request Refund an Order (application/json)
    
  + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
            

 + Attributes
        + amount: 999 (number) - This is the amount to refund in minor units. E.g., 999 would be $9.99. It is not possible to refund an amount greater than the amount settled. If an amount is not specified, the full transaction is refunded.
        + merchantRefNum:MERCHANT_REF_123 (string) - This is an optional merchant transaction ID, for reference purposes. This should be unique for each transaction.
            

 + Body
 
            {
                "amount" : 9999,
                "merchantRefNum" : "MERCHANT_REF_123"
            }

+ Response 200 (application/json)

 + Attributes
        + amount: 999 (number) - This is the amount of the transaction that was refunded in minor units. 
        + authType (enum) - This is the transaction type. It will be set to *refund*.
           + refund
        + confirmationNumber: 1997160616609792 (number) - This is the confirmation number returned by Paysafe in response to the refund request.
        + currencyCode: GBP (enum) - This is the currency in which the transaction was refunded. See [Currency Codes](#currency-codes).
        + mode (enum) - This element is for internal use only. *live* is currently the only possible value.
           + live
        + originalMerchantRefNum:MERCHANT_REF_123 (string) - This is the merchant transaction ID assigned in the original order request, for reference purposes.
        + id (string) - This is the order ID against which the refund has been requested. 


  + Body
  
            {
                "currencyCode" : "GBP",
                "amount" : 9999,
                "originalMerchantRefNum" : "MERCHANTREF12346",
                "mode" : "live",
                "confirmationNumber" : 1997160616609792,
                "authType" : "refund",
                "id" : "25TWPTLHRR81AIG1LF"
            }
            

# Group Settlements
<a name="settlements" title="Settlements"></a>

## Settle an Order [POST /v1/orders/{order_id}/settlement]
<a name="settle-an-order" title="Settle an Order"></a>

Depending on the merchant integration type, transactions may need to be settled at some point after the original authorization (e.g., if goods will ship after a few days). The settlement API works in the same way as for refunds.

If no amount parameter is provided then the request will settle for the full amount. Optional parameters for *amount* and *merchantRefNum* can also be passed.


|Element                 |Type                      |Description |
|---                     |---                       |--- |
|amount                  | integer | This is the amount of the payment in minor units. E.g., 999 would be $9.99. It is not possible to settle an amount greater than the original amount authorized. **Note:** If an amount is not specified, the full transaction is settled.|
|merchantRefNum          | string<br>`length<=40` | This is an optional merchant transaction ID, for reference purposes. This should be unique for each transaction. |

The response parameters are described below: 

| Field | Type | Description |
|---    |---  |--- |
| amount | integer | This is the amount of the transaction that was settled, in minor units. E.g., 999 would be $9.99. |
| authType | enumeration | This is the transaction type. It will be set to *settlement*. |
| confirmationNumber | integer | This is the confirmation number returned by Paysafe in response to the settlement request. |
| currencyCode | enumeration | This is the currency in which the transaction was settled. See [Currency Codes](#currency-codes) for a list of codes. |
| mode | enumeration | This element is for internal use only. Possible values are currently: <ul><li>live</li></ul> |
| originalMerchantRefNum | string </br>`length<=40` | This is the merchant transaction ID assigned in the original order request, for reference purposes.  |
| id | string </br>`length<=128` | This is the order ID against which the settlement has been requested.  |


+ Parameters
   + order_id (required, string, `25TWPTLHRR81AIG1LF`) - Order ID
    
+ Request Settle an Order (application/json)
    
  + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

  + Attributes
        + amount: 999 (number,optional) - This is the amount of the payment in minor units. E.g., 999 = $9.99. It is not possible to settle an amount greater than the original amount authorized. If an amount is not specified, the full transaction is settled.
        + merchantRefNum:MERCHANT_REF_123 (string,optional) -  This is an optional merchant transaction ID, for reference purposes. This should be unique for each transaction.
       
 + Body
 
            {
                "amount" : 9999,
                "merchantRefNum" : "MERCHANT_REF_123"
            }

+ Response 200 (application/json)

  + Attributes
        + amount:999 (number) - This is the amount that was settled, in minor units.
        + authType (enum) - This is the transaction type. It will be set to *settlement*.
            + settlement
        + confirmationNumber:1998572559920972 (number) - This is the confirmation number returned by Paysafe in response to the settlement request.
        + currencyCode:GBP (enum) - This is the currency in which the transaction was settled. See [Currency Codes](#currency-codes). 
        + mode (enum) - This element is for internal use only. The only possible value is *live*.
           + live
        + originalMerchantRefNum (string) - This is the merchant transaction ID assigned in the original order request, for reference purposes.
        + id:25TWPTLHRR81AIG1LF (string) - This is the order ID against which the settlement has been requested.
   
  + Body
  
              {
                "amount" : 9999,
                "authType" : "settlement",
                "confirmationNumber" : 1998572559920972,
                "currencyCode" : "GBP",
                "mode" : "live",
                "originalMerchantRefNum" : null,
                "id" : "25TWPTLHRR81AIG1LF"
            }


## Cancel a Settlement [DELETE /v1/orders/{order_id}/settlement]
<a name="cancel-a-settlement" title="Cancel a Settlement"></a>

If a settlement request has been sent but the amount has not yet been settled, it is possible to cancel the settlement using the ID returned by Paysafe in the settlement response (see [Settle an Order](#settle-an-order)). 
The same response as for [Get an Order Status](#get-an-order-status) will be returned with the status set to *cancelled* upon success.
See [Cancel an Order](#cancel-an-order) for full details on how to cancel a request.

+ Parameters
   + order_id:25TWPTLHRR81AIG1LF (required, string) - Order ID

+ Request Cancel a Settlement (application/json)

  + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY

+ Response 200 (application/json)  

  + Body
  
              {
                "link" : [
                    {
                        "rel" : "hosted_payment",
                        "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5ffeb47c2287dbf903bbb4627b16929a27b8d09b37db190a0f6ce44f8ea1461be2"
                    },
                    {
                        "rel" : "self",
                        "uri" : "https://dlTXGAJJWsEdFdJn2SBP:NAA6942c974f7de6e5cd690@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF"
                    }
                ],
                "currencyCode" : "GBP",
                "transaction" : {
                    "status" : "cancelled",
                    "lastUpdate" : "2012-05-14T15:12:18",
                    "authType" : "purchase",
                    "merchantRefNum" : "MERCHANT_REF_123",
                    "associatedTransactions" : [],
                    "currencyCode" : "GBP",
                    "refunded" : false,
                    "amount" : 1000,
                    "paymentType" : "card",
                    "settled" : false
                },
                "totalAmount" : 1000,
                "id" : "25TWPTLHRR81AIG1LF",
                "merchantRefNum" : "MERCHANT_REF_123"
            }
  

# Group Original Credits
<a name="originalcredits" title="Original Credits"></a>

Original Credits allow certain merchants to issue winnings as credits to cardholders, without requiring a previous Authorization/Settlement. 

Merchants with the following merchant category codes (MCCs) can process Original Credits:
 * 4829
 * 6012
 * 6051
 * 6211
 * 6540
 * 7299
 * 7994
 * 7995
 * 8999

**Note:** 
*   In order to issue an original credit, you must have successfully processed a previous order for your customer, in order to have access to their payment information.
*   Because an original credit is not tied to a previous settlement, you are not limited to a settlement amount when issuing this credit type.

You can issue an Original Credit in two ways:

*   Using an existing [order ID](#issue-an-original-credit-using-an-order-id)
*   Using a [customer's profile](#issue-an-original-credit-using-a-profile)

With either method, your request must include the [*extendedOption*](#extendedoptions-object) value *authType* set to *oct*. See [extendedOptions Key/Value Pairs](#extendedoptions-keyvalue-pairs) for more details.

**Note:** Only merchants with the appropriate MCC can process Original Credits. To issue other types of credits to a cardholder's credit card see [Refunds](#refunds)

            

## Issue an Original Credit Using an Order ID [POST /v1/orders/{order_id}]
<a name="issue-an-original-credit-using-an-order-ID" title="Issue an Original Credit Using an Order ID"></a>

Rebills can be processed against a customer’s card by using a previously successful order ID. You can use a rebill request to issue an original credit.
See [Process a Rebill Using an Order ID](#process-a-rebill-using-an-order-id) for full requirements for this request type.


+ Parameters
   + order_id:25TWPTLHRR81AIG1LF (required, string) - Order ID

+ Request (application/json)
    
  + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
            
   + Body

            {
                "totalAmount": 100,
                "currencyCode": "GBP",
                "merchantRefNum": "testmerchref",
                "extendedOptions": [
                    {
                        "key": "authType",
                        "value": "oct"
                    }
                ]
            }

+ Response 200 (application/json)  

  + Body
  
            {
               "link" : [
                  {
                     "rel" : "hosted_payment",
                     "uri" : "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5f5e3ed641b29fb8eeccd7cb195c729dc0dd762f5a97c1320489b5c2b529aa1f40"
                  },
                  {
                     "rel" : "self",
                     "uri" : "https://Qtz9UWrNEod1aKJuuDKQ:NAAd6bef4be7deaeea2aeb5@api.test.netbanx.com/hosted/v1/orders/25TWPTLHRR81AIG1LF"
                  },
                  {
                     "rel" : "resend_callback",
                     "uri" : "https://Qtz9UWrNEod1aKJuuDKQ:NAAd6bef4be7deaeea2aeb5@api.test.netbanx.com/hosted/v1/orders/25TWQVC3GLDXRY01L8/resend_callback"
                  }
               ],
               "totalAmount" : 100,
               "currencyCode" : "GBP",
               "mode" : "live",
               "type" : "order",
               "id" : "25TWPTLHRR81AIG1LF",
               "merchantRefNum" : "testmerchref"
            }
            

## Issue an Original Credit Using a Profile [POST /v1/orders]
<a name="issue-an-original-credit-using-a-profile" title="Issue an Original Credit Using a Profile"></a>

Once a customer profile has been created (see [profile Object](#profile-object)), the *id* can be used to securely store the customer's card details with Paysafe for future use. You can use this profile information to issue an original credit.

+ Request (application/json)
    
  + Headers
            
            Authorization: Basic YOUR-BASE64-ENCODED-API-KEY
            
   + Body

            {
                "merchantRefNum": "IZPKU7KP0MYB607GG4",
                "currencyCode": "GBP",
                "totalAmount": "100",
                "profile": {
                    "paymentToken": "CU1g0NQQaI6GLXi",
                    "id": "e813e737-c119-4c72-9d7e-a61c8e764615"
                },
                "extendedOptions": [
                    {
                        "key": "recurringIndicator",
                        "value": true
                    },
                    {
                        "key": "authType",
                        "value": "oct"
                    }
                ]
            }

+ Response 200 (application/json)  

  + Body
  
            {
                "profile": {
                    "paymentToken": "CU1g0NQQaI6GLXi",
                    "id": "e813e737-c119-4c72-9d7e-a61c8e764615"
                },
                "link": [
                    {
                        "rel": "hosted_payment",
                        "uri": "https://api.test.netbanx.com/hosted/v1/payment/53616c7465645f5f803ea15056d4f089654c4d134aa2560395380f377a68a7ed04fb9d6f3542c4ce"
                    },
                    {
                        "rel": "self",
                        "uri": "https://Qtz9UWrNEod1aKJuuDKQ:NAAd6bef4be7deaeea2aeb5@api.test.netbanx.com/hosted/v1/orders/25TWQVC218Z9UMP1LL"
                    },
                    {
                        "rel": "resend_callback",
                        "uri": "https://Qtz9UWrNEod1aKJuuDKQ:NAAd6bef4be7deaeea2aeb5@api.test.netbanx.com/hosted/v1/orders/25TWQVC218Z9UMP1LL/resend_callback"
                    }
                ],
                "totalAmount": "100",
                "currencyCode": "GBP",
                "merchantRefNum": "IZPKU7KP0MYB607GG4",
                "extendedOptions": [
                    {
                        "value": "1",
                        "key": "recurringIndicator"
                    },
                    {
                        "value": "oct",
                        "key": "authType"
                    }
                ],
                "transaction": {
                    "authCode": "100148",
                    "confirmationNumber": "275034620",
                    "status": "success",
                    "associatedTransactions": [],
                    "authType": "oct",
                    "settled": false,
                    "paymentType": "card",
                    "refunded": false,
                    "reversed": false,
                    "cvdVerification": "Not Checked",
                    "currencyCode": "GBP",
                    "zipVerification": "Not Checked",
                    "merchantRefNum": "IZPKU7KP0MYB607GG4",
                    "houseNumberVerification": "Not Checked",
                    "riskReasonCode": null,
                    "card": {
                        "lastDigits": "1230",
                        "country": "pe",
                        "expiry": "02/2017",
                        "type": "credit",
                        "brand": "visa"
                    },
                    "amount": "100",
                    "lastUpdate": "2014-10-07T13:39:48"
                },
                "id": "25TWQVC218Z9UMP1LL"
            }
            
# Data Structures

## 3D Secure 2
- useThreeDSecureVersion2 (boolean) - This enables [3D Secure version 2](https://developer.paysafe.com/en/rest-apis/3d-secure-2/getting-started/introduction-to-3d-secure-2/). **Note:** When set to *true* this field ignores the standard 3D Secure that is enabled in your merchant configuration. This field defaults to *false*.
- merchantUrl (string) - This is the fully qualified URL of the merchant's commercial or Customer Care website. **Note:** This field is required if *useThreeDSecureVersion2* is included and set to *true*.
- transactionIntent (enum) - This identifies the type of transaction being authenticated for 3D Secure 2. **Note:** This field can be used if *useThreeDSecureVersion2* is included and set to *true*. This field defaults to GOODS_OR_SERVICE_PURCHASE.
    + GOODS_OR_SERVICE_PURCHASE
    + CHECK_ACCEPTANCE
    + ACCOUNT_FUNDING
    + QUASI_CASH_TRANSACTION
- messageCategory (enum) - This specifies category of the message for a specific use case. **Note:** This field can be used if *useThreeDSecureVersion2* is included and set to *true*. This field defaults to PAYMENT.
    + PAYMENT
    + NON_PAYMENT
- initialPurchaseTime (string) - This is the UTC formatted date and time of the purchase. **Note:** This field can be used if *useThreeDSecureVersion2* is included and set to *true*. This field is required in the following cases: 1) *messageCategory* is set to PAYMENT; and 2) *messageCategory* is set to NON_PAYMENT and *authenticationPurpose* is set to either INSTALMENT_TRANSACTION or RECURRING_TRANSACTION.
- requestorChallengePreference (enum) - This indicates whether a challenge is requested for this transaction.
    + NO_PREFERENCE
    + NO_CHALLENGE_REQUESTED
    + CHALLENGE_REQUESTED
    + CHALLENGE_MANDATED
- authenticationPurpose (enum) - This indicates the type of Authentication request, providing additional information to help determine the best approach for handing an Authentication request. **Note:** This field can be used if *useThreeDSecureVersion2* is included and set to *true*. This field defaults to PAYMENT_TRANSACTION.
    + PAYMENT_TRANSACTION
    + RECURRING_TRANSACTION
    + INSTALMENT_TRANSACTION
    + ADD_CARD
    + MAINTAIN_CARD
    + EMV_TOKEN_VERIFICATION
- maxAuthorizationsForInstalmentPayment (number) - This indicates the maximum number of authorizations permitted for instalment payments. **Note:** This field can be used if *useThreeDSecureVersion2* is included and set to *true*. This field is required if *authenticationPurpose* is set to INSTALMENT_TRANSACTION.
+ Include Electronic Delivery
+ Include Order Item Details
+ Include Billing Cycle
+ Include User Account Details
+ Include Purchased Gift Card Details

## accordD
- financingType (enum,required)
  + DEFERRED_PAYMENT - Deferred payment financing 
  + EQUAL_PAYMENT - Equal payment financing
- plan:123 (string,required) - This is the plan number for this financing transaction.
- gracePeriod:12 (number,optional) - This is the grace period, in months, associated with deferred payment transactions. The maximum value is 99.
- term:6 (number,optional) - This is the number of payments, in months, for equal payment transactions. The maximum value is 99

## addendumData
- key:affiliate_code (string) - This is a description of the data being added to the order.
- value:test12345 (string) - This is the value for the key/value pair.

## ancillaryFees
- amount: 999 (number,required) - This is the amount of the fee in minor unit. E.g., 999 would be $9.99. This value can be negative to indicate a discount. The *totalAmount* provided in the initial order must include any ancillary fees (and shopping cart items) passed in the *ancillaryFees* section. 
- description: Postage (string,required) - This is the description of the fee. 

## Billing Cycle
+ billingCycle (object) - This object can be used if *useThreeDSecureVersion2* is included and set to *true*. This object is required if *authenticationPurpose* is set to INSTALMENT_TRANSACTION or RECURRING_TRANSACTION. 
    + endDate (string, required) - This is the UTC formatted date after which no further authorizations will be performed.
    + frequency (number, required) - This is the minimum number of days between authorizations.

## billingDetails
- city:Cambridge (string,optional) - This is the city in the billing address.
- country:GB (string,required) - This is the country in the billing address. See [Country Codes](#country-codes).
- recipientName:Jane Smith (string, optional) - This is the name of the recipient in the billing address.
- street:321 Daffodil Lane (string,optional) - This is the first line of the street address in the billing address.
- street2:No. 12 (string,optional) - This is the second line of the street address in the billing address.
- zip:EL321 (string,required) - This is the postal/zip code in the billing address.
- state (string,optional) - This is the state/province/region in the billing address. For Canada, see [Province Codes](#province-codes). For the U.S., see [State Codes](#state-codes).
- phone (string,optional) - This is the telephone number in the billing address.
- useAsShippingAddress (boolean,optional) - This indicates whether this address should also be used as the shipping address.

## callback
- format (enum,required)
 + json - Make a JSON POST request.
 + get - Make a GET request. Parameters are sent using the query string with the delimiter specified.
 + form-urlencoded - Make a form-urlencoded POST request.
 + xml - Make an XML POST request.
- rel (enum,required) - This is the callback type, allowing different endpoints to be targeted depending on the end state of the transaction. Multiple callbacks of the same type are possible.
 + on_success
 + on_decline
 + on_pending
 + on_hold
- retries:3 (number) - This specifies the number of callback attempts to make on the system after receiving an error from the merchant endpoint (0&ndash;10).
- returnKeys - This is an array of additional parameter names to be passed back to the URL in the format specified. All *addendumData* parameters are returned by default. See [Callback Return Keys](#callback-returnkeys).
- synchronous:false (boolean) - This parameter specifies that the callback should be made in-line with the authorization. The system will time out any synchronous callback that takes longer than 20 seconds to complete. This value defaults to false. Paysafe recommends that this flag is set to false. Callbacks will be made back to the merchant within 10 minutes of a transaction attempt.
- uri: https://success.example.com/transaction_success.php (string,required) - This is the URL to which to send the callback. If this is an HTTPS address, please ensure that the certificate is valid &ndash; otherwise, the callback will fail.
- delimiter:& (string) - This specifies the delimiter to use when parameters are sent to the callback URI (e.g, “;” “&” “$”). By default an ampersand (&) is used. The delimiter parameter is supported only when the format parameter is set to get or form-urlencoded.


## Electronic Delivery
+ electronicDelivery (object) - This is information regarding electronic delivery. **Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*.
    + isElectronicDelivery (boolean, required) - This indicates whether there is an electronic delivery for the product.
    + email (string) - This is the email address to which the merchandise was delivered.

## transaction
- amount (number) - This is the total amount of the transaction that was processed in minor units. E.g., 999 would be $9.99.
- associatedTransactions (array[associatedTransactions]) - This returns a JSON array of other transactions associated with the order, e.g., refunds and completions. Each member of the list refers to a specific operation that was executed against the order. For example, three refunds of $1.00 would show up as three individual *associatedTransactions* refunds, not as one refund of $3.00. 
- authCode (enum)
  + auth - This is an authorization-only transaction.
  + purchase - This is a transaction with immediate billing.
  + settlement - This transaction is the settlement of a previous authorization-only transaction.
  + refund - This is a refund transaction
- availableToRefund (number)
- card (card) - These are details of the card used for the transaction.
- prepaidcard (prepaidcard)  - These are details of the prepaidcard used for the transaction.
- cleared:false (boolean) - The transaction has been sent to the bank for clearing.
- settled:false (boolean) - The authorization-only transaction has been settled.
- confirmationNumber:1408001529971919 (number) - This is the confirmation number returned by Paysafe in response to the transaction request.
- lastUpdate:`2012-05-14T15:12:18` (string) - This is the date and time of the last change made to the transaction, e.g., a refund.
- paymentType (enum) - This is the type of payment used for the transaction.
   + card
   + giropay
   + interac
   + neteller
   + paypal
   + sofortbanking
- refunded: false (boolean) - This indicates that the transaction has been either fully or partially refunded. Note tht if this value is set to *true* then check the value for *availableToRefund* before attempting to issue a refund request.
- reversed: false (boolean) - This indicates whether a reversal has been attempted (e.g., a successful transaction that fails an AVS check, or a successful authorization that has been subsequently cancelled).
- status (enum) - This indicates the status of the transaction.
   + success - Transaction has been authorized by bank/Paysafe.
   + cancelled - Transaction has been cancelled.
   + declined - Transaction has been declined by bank/Paysafe.
   + pending - Transaction has been created and is awaiting customer interaction.
   + abandoned - Transaction was abandoned part way through by the customer.
   + held - Transaction has been placed on hold due to risk rules results. See *riskReasonCode* for the reason code.
   + errored - An error occurred and the transaction could not be completed.
- errorCode (number) - If an error occurs, this is the error number.
- errorMessage (string) - If an error occurs, this is the error message.
- riskReasonCode (number) - If the transaction has a status of held, this value holds the reason code.
- zipVerification (enum) - This is the result of the AVS check received from the bank.
  + Matched - The zip value provided matches the zip value associated with the card.
  + Not Matched - The zip value provided does not match the zip value associated with the card.
  + Not Checked - The zip value was not processed.
- houseNumberVerification (enum)
  + Matched - The house number value provided matches the house number value associated with the card.
  + Not Matched - The house number value provided does not match the house number value associated with the card.
  + Not Checked - The house number value was not processed.
- cvdVerification (enum)
  + Matched - The CVD value provided matches the CVD value associated with the card.
  + Not Matched - The CVD value value provided does not match the CVD value associated with the card.
  + Not Checked - The CVD value was not processed.
- profile (profileResponse) - This is the profile created during the order request.
- dueDate (string) - This is the date the order request will be processed in YYYY-MM-DD (UTC) format.
- giropay (giropay) - If the giropay payment method is used then this parameter is added with details about the transaction.
- neteller (neteller) - If the neteller payment method is used then this parameter is added with details about the transaction.
- unionpay (unionpay) - If the unionpay payment method is used then this parameter is added with details about the transaction.
- sofortBanking (sofortBanking) - If the sofortBanking payment method is used then this parameter is added with details about the transaction.
- paypalToken (string) - This is the PayPal token. Please consult PayPal documentation for more information.
- paypalTransactionId (string) - This is the PayPal transaction reference ID.

## prepaidcard
- lastDigits (string) - This is the last four digits of the prepaid card that was used for the transaction.

## card
- brand (enum) - This is the brand of the card.
   + amex - American Express
   + cb - Carte Bleue
   + discover
   + diners
   + international maestro
   + jcb
   + mastercard
   + mastercard debit
   + maestro
   + visa
   + visa debit
   + visa electron   
- country: GBP (enum) - This is the country of origin for the card used. See [Country Codes](#country-codes).
- lastDigits:1234 (string) - This is the last four digits of the card used.
- expiry: 01/2019 (string) - This is the expiry date of the card used. Format = mm/yyyy
- threeDEnrolment (enum) - This indicates the enrollment status of the card in the 3D Secure program.
   + Y - Authentication available
   + N - Cardholder not enrolled
   + U - Authentication unavailable
   + E - Error
- threeDResult (enum) - This indicates the outcome of the authentication request.
   + Y - Cardholder successfully authenticated with their Card Issuer.
   + A - Cardholder authentication was attempted.
   + N - Cardholder failed to successfully authenticate with their Card Issuer.
   + U - Authentication with the Card Issuer was unavailable.
   + E - Error
- type (enum) - This is the type of card.
   + debit
   + credit

## extendedOptions 
- key:callbackEmail (string) - This is a description of the option being added to the order.
- value:john.smith@email.com (string) - This is the value for the key/value pair.

## extendedOptionsSilentPost
- key:silentPost (enum) - Enable silent post
- value:true (enum) - Must be set to true to enable silent post

## associatedTransactions
- amount: 500 (number) - This is the total amount in minor units of any transaction associated with the order (e.g., a refund). For example, 999 would be $9.99.
- authType(enum) - This is the transaction type.
 + auth - This is an authorization-only transaction.
 + purchase - This is a transaction with immediate billing.
 + settlement - This transaction is the settlement of a previous authorization-only transaction. 
 + refund - This is a refund transaction.
- dateTime:`2014-01-26T10:32:28Z` (string) - This is the UTC date and time at which the associated transaction was processed.
- reference:25TWPTLHRR81AIG1LF (string) - This is the Paysafe reference for the associated transaction.

## link
- rel (enum,required) - This is the link type, allowing different endpoints to be targeted depending on the end state of the transaction. 
  + cancel_url - Request-only parameter. This is the URI to return the customer to if payment fails or is cancelled.
  + return_url - Request-only parameter. This is URI to return the customer to after payment is complete.
  + hosted_payment - Response-only parameter. This is the URI for the payment page, which contains the secure version of the order ID. Customers should be redirected to this URI to see their invoice and complete payment; or this should be used as the form action on the merchant payment page if using a Silent Post (Direct Post).
  + self - Response-only parameter. This URI can be called to return a JSON object about the current status of the order, e.g., to see if the payment has been settled.
  + resend_callback -  Response-only parameter. If a callback URI is specified in the initial request, calling this URI will re-queue the callback and resend it (which is useful if your callback retries have run out).
- returnKeys (array[string],optional) - This is an array of names of parameters to return to the URI specified.
- uri(string,required) - This is the URL to which to send the link. If this is an HTTPS address, please ensure that the certificate is valid. Otherwise, the link will cause the browser to display a certificate warning.

## merchantDescriptor
- dynamicDescriptor:Test (string) - A merchant descriptor, which is displayed on a customer’s card statement.
- phone:123 (string) - The merchant’s phone number, which is appended to the merchant descriptor on a customer’s card statement.

## Order Item Details
+ orderItemDetails (object) - These are the details of a previously made purchase or preorder. **Note:** This field can be used if *useThreeDSecureVersion2* is included and set to *true*.
    + preOrderItemAvailabilityDate (string) - For a pre-ordered purchase, this is the UTC formatted date that the merchandise is expected to be available. 
    + preOrderPurchaseIndicator (enum) - This indicates whether the cardholder is placing an order for available merchandise or merchandise with a future availability or release date.
        + MERCHANDISE_AVAILABLE
        + FUTURE_AVAILABILITY
    + reorderItemsIndicator (enum) - This indicates whether the cardholder is reordering merchandise.
        + FIRST_TIME_ORDER
        + REORDER
    + shippingIndicator (enum) - This is the shipping method for the transaction.
        + SHIP_TO_BILLING_ADDRESS
        + SHIP_TO_VERIFIED_ADDRESS
        + SHIP_TO_DIFFERENT_ADDRESS
        + SHIP_TO_STORE
        + DIGITAL_GOODS
        + TRAVEL_AND_EVENT_TICKETS
        + OTHER

## Payment Account Details
+ paymentAccountDetails (object) - These are the details of the current payment account of the cardholder.
    + createdRange (enum) - This indicates the length of time that the payment account was enrolled in the cardholder’s account with the 3DS Requestor.
        + NO_ACCOUNT
        + DURING_TRANSACTION
        + LESS_THAN_THIRTY_DAYS
        + THIRTY_TO_SIXTY_DAYS
        + MORE_THAN_SIXTY_DAYS
    + createdDate (string) - This is the UTC formatted date that the cardholder opened the account with the 3DS Requestor.

## Prior 3DS Authentication
+ priorThreeDSAuthentication (object) - This is the previous authentication information used with current merchant, cardholder, and card.
    + data (string) - This field is reserved for future iterations of 3D Secure 2.
    + method (enum) - This is the mechanism used previously by the cardholder to authenticate to the 3D Secure Requestor.
        + FRICTIONLESS_AUTHENTICATION
        + ACS_CHALLENGE
        + AVS_VERIFIED
        + OTHER_ISSUER_METHOD
    + id (string) - This is a previous authentication ID for the cardholder. **Note:** For recurring payments, this is the _authenticationId_ of the first authentication.
    + time (string) - This is the UTC formatted date and time of the cardholder authentication.

## profile
- merchantCustomerId:jane.smythe@emailhost.com (string) - This is the customer ID that the merchant has assigned to the customer. When this parameter is included in the request, a customer profile will be created.
- firstName:Jane (string) - This is the customer’s first name.
- lastName:Smythe (string) - This is the customer’s last name.

## profileResponse
- id:`0275e76c-2141-11e4-8ac3-74cde64e5c68` (string) - This is the customer ID returned by Paysafe when the profile is created. If the ID is included in an order request, then the customer profile associated with that ID will be used for the transaction. See [Process an Order with a Profile ID](#process-an-order-with-a-profile-id) for more information.
- paymentToken:`SJsww3Eq33ezNvhM+jQRNoH/U4o7j0XJ4yrXtDMenLM` (string) - This is the payment token returned by Paysafe when the profile is created (see [Order Status Response Parameters](#order-status-response-parameters)). If the paymentToken is included in an order request, then the card number associated with that token will be used for the transaction. See [Process an Order with a Payment Token](#process-an-order-with-a-payment-token) for more information.

## Purchased Gift Card Details
+ purchasedGiftCardDetails (object) - These are details of purchases previously made on a gift card.
    + amount (number) - This is the amount of the gift card, in minor units.
    + count (number) - This is the total count of individual prepaid or gift cards/codes purchased.
    + currency (string) - This is the currency of the gift card.

## recipientDateOfBirth
- day:29 (number,required) - This is the recipient's day of birth (1-31).
- month:1 (number,required) -  This is the recipient's month of birth (1-12).
- year:1973 (number,required) -  This is the recipient's year of birth.

## redirect
- rel (enum,required) - This is the redirect type, allowing different endpoints to be targeted depending on the end state of the transaction. 
 + on_success
 + on_error
 + on_decline
 + on_pending
 + on_timeout
 + on_hold
- returnKeys (array[string],optional) - This is an array of names of parameters to return to the URI specified.
- uri (string,required) - This is the URL to which to send the redirect. If this is an HTTPS address, please ensure that the certificate is valid – otherwise, the redirect will cause the browser to display a certificate warning. 
- delimiter - This specifies the delimiter to use in the query string when parameters are sent to the redirect URI (e.g, “;” “&” “$”). By default an ampersand (&) is used.

## refund
- amount:999 (number) - This is the amount of the payment minor units. E.g., 999 would be $9.99. It is not possible to settle an amount greater than the original amount authorized. If an amount is not specified, the full transaction is settled.
- merchantRefNum:MERCHANTREF123 (string) - This is an optional merchant transaction ID, for reference purposes. This should be unique for each transaction.

## settlement
- amount:999 (number) - This is the amount of the payment minor units. E.g., 999 would be $9.99. It is not possible to settle an amount greater than the original amount authorized. If an amount is not specified, the full transaction is settled.
- merchantRefNum:MERCHANTREF123 (string) - This is an optional merchant transaction ID, for reference purposes. This should be unique for each transaction.

## shippingDetails
- city:Cambridge (string,optional) - This is the city in the shipping address.
- country:GB (string,required) - This is the country in the shipping address. See [Country Codes](#country-codes).
- recipientName:Jane Smith (string, optional) - This is the name of the recipient in the shipping address.
- street:321 Daffodil Lane (string,optional) - This is the first line of the street address in the shipping address.
- street2:No. 12 (string,optional) - This is the second line of the street address in the shipping address.
- zip:EL321 (string,required) - This is the postal/zip code in the shipping address.
- state (string,optional) - This is the state/province/region in the shipping address. For Canada, see [Province Codes](#province-codes). For the U.S., see (#state-codes).
- phone:4412345785 (string,optional) - This is the telephone number in the shipping address.
- carrier (enum,optional) - This is the shipment carrier.
  + APC - APC Overnight
  + APS - AnPost
  + CAD - Canada Postal Service
  + DHL
  + FEX - Fedex
  + RML - Royal Mail
  + UPS - United Parcel Service
  + USPS - United States Postal Service
  + CLK - CityLink
  + EMS - EMS (US Postal Service)
  + NEX - Nexworldwide
  + OTHER
- shipMethod (enum,optional) - This is the method of shipment.
  + N - Next Day/Overnight
  + T - Two-day Service
  + C - Lowest Cost
  + O - Other

## Shipping Details Usage
+ shippingDetailsUsage (object) - This is the shipping usage information.
    + cardHolderNameMatch (boolean) - This indicates whether the cardholder name on the account is identical to the shipping name used for this transaction.
    + initialUsageDate (string) - This is the UTC formatted date when the shipping address for this transaction was first used with the 3D Secure Requestor.
    + initialUsageRange (enum) - This is the length of time between the first use of this shipping address and the current transaction.
        + CURRENT_TRANSACTION
        + LESS_THAN_THIRTY_DAYS
        + THIRTY_TO_SIXTY_DAYS
        + MORE_THAN_SIXTY_DAYS

## shoppingCart
- amount:999 (number,required) - This is the total amount for this item in the shopping cart in minor units. E.g., 999 would be $9.99.
- description:Wrench (string,required) - This is the merchant's description of the shopping cart item. It will appear on the payment page. The description label on the payment page is not localized, regardless of the language specified in the locale settings (see [Localization](#localization)). So, for example, if the description was "Hammer", and the localization settings were for French, "Hammer" would be displayed on the payment page, and not "Marteau".
- sku:`id/sku-1` (string,optional) - This is your ID for the shopping cart item (e.g., the merchant's internal SKU or ID). It is not displayed on the payment page, but is reflected back upon querying an order status.
- quantity:1 (number,optional) - This is the quantity of the shopping cart item. It will appear on the payment page. 

## supplierDetails
- city:Cambridge (string, optional) - The city in the supplier address.
- email:test@test.com (string, optional) - The supplier’s email address.
- registeredName:Checkout Test (string, optional) - The supplier's registered name.
- street:1 Corp Street (string, optional) - The street of the supplier's address.
- url:checkout_test@example.com (string, optional) - The URL of the supplier's web site.
- zip:CP1 23X (string, optional) -The ZIP or postal code of the supplier's address.

## visaAdditionalAuthData
- recipientDateOfBirth (recipientDateOfBirth,optional) - Include *recipientDateOfBirth* elements if your Merchant Category Code is 6012 and your registered trading address is in the United Kingdom. If you have any questions, contact your account manager. All fields are optional. However, scheme fines may apply if data is consistently not supplied and chargebacks persist.
- recipientZip:CB24 9AD (string,optional) - This is the recipient‘s postcode. Note that the last 3 characters are not sent to the banking network.
- recipientLastName:Smith  (string,optional) - This is the recipient‘s last name or surname. Note that only the first 6 characters are sent to the banking network.
- recipientAccountNumber:ABC1234567890 (string,optional) - This is the recipient‘s account number, e.g., a loan agreement number or customer ID. In the case where the recipient account is a prepaid card, the card number may be sent in full. Note that only the first 6 and last 4 characters are sent to the banking network and will be masked accordingly within the back office and any other reports, to comply with PCI regulations.

## giropay
- TxId (string) - This is the giropay transaction ID. Please consult Giropay documentation for further details concerning these parameters.
- paymentPurposeLine_1 (string) - This is a Giropay merchant reference.
- paymentPurposeLine_2 (string) - This is a Giropay merchant reference.
- transactionId (number) - This is a Giropay transaction ID.
- fullBankResponse (string) - This is the bank response code.
- authCode (string) - This is a Giropay authorization code.
- operatorId (string) - This is Giropay’s unique merchant identification. 
- beneficiaryName_1 (string) - This is the first part of the beneficiary’s name.
- beneficiaryName_2 (string) - This is the second part of the beneficiary’s name.
- beneficiaryAcctNo (number) - This is the beneficiary’s bank account number.
- beneficiaryBankBlz (number) - This is the beneficiary’s bank ID.
- beneficiaryBic (string) - This is the beneficiary’s international Bank Identifier Code.
- beneficiaryIban (string) - This is the beneficiary’s International Bank Account Number.
- customerAcctNo (number) - This is the customer’s bank account number
- customerBankBlz (number) - This is the customer’s bank ID.
- customerBic (string) - This is the customer’s international Bank Identifier Code.
- customerIban (string) - This is the customer’s International Bank Account Number.
- transType (number) - This is the transaction type ID.
- email (string) - This is the customer’s email address.
- currency (string) - This is the 3-character currency code.
- authResult (string) - This is the result of the authorization.
- extensionSic (number) - This is the expanded status code.
- rc (number) - This is the return code.
- merchantId (string) - This is the merchant ID.
- merchantReference (string) - This is the merchant reference ID.
- amount (number) - This is the amount of the payment.
- merchantNumber (number) - This is the merchant number.

## ideal
- IdealTxId (string) - This is the iDEAL transaction ID.

## neteller
- neteller_type (string) - This is the type of NETELLER payment. Please consult NETELLER documentation for further details concerning these parameters. 
- fxrate (string) - This is the foreign exchange rate applied (if applicable).
- da_amount (string) - This is the amount of the transfer that is being withdrawn from the bank account registered with the member’s NETELLER account. The amount may have decimal places but no currency symbols.
- total_fee (string) - This is the total fee charged for the transfer if it was a Direct Accept transaction (i.e., fee plus dafee).
- trans_id (string) - This is the NETELLER transaction ID.
- dafee (string) - This is the additional fee charged for the transfer if it was a Direct Accept transaction.
- client_amount (string) - This is the amount taken from the client’s NETELLER account.
- client_currency (string) - This is the client’s currency.
- merchant_amount (string) - This is the amount moved to to the merchant’s account.
- merchant_currency (string) - This is the merchant’s currency.

## sofortBanking
- sofortBankingTxId (string) - This is the Sofort Banking transaction ID. Please consult Sofort Banking documentation for further details concerning these parameters.
- internationalTransaction (boolean) - This is the flag for international transactions.

## reward
- id (string) - This is the ID associated with the reward program.
- number (string) - This is the customer’s reward number associated with the reward program.
- name (string) - This is the name of the reward program. 
- expiry (expiry) - This is the reward expiry date.

## navigation
- prev:https://api.test.netbanx.com/hosted/v1/orders?num=2&start=0 (string) - This is the previous set of records.
- next:https://api.test.netbanx.com/hosted/v1/orders?num=2&start=4 (string) - This is the next set of records.

## record

## expiry
 - year:2014 (number) - This is the month the reward program expires.
 - month:11 (number) - This is the year the reward program expires.

## unionpay
- status (string) - This is the status of the transaction.
- message (string) - This is the message returned, if required.
- transId (string) - This is the Union Pay transaction ID

## Travel Details
+ travelDetails (object) - These are the Amex-specific travel details. **Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*.
    + isAirTravel (boolean) - This indicates whether the transaction is an air travel related purchase, e.g., a ticket purchase. **Note:** This field defaults to *false*.
    + airlineCarrier (string) - This is the selected airline carrier. **Note:** Required if *isAirTravel* is *true*.
    + departureDate (string) - This is the UTC formatted date of departure in the time zone of the departure location. **Note:** Required if *isAirTravel* is *true*.
    + destination (string) - This is the airport code of the destination airport. **Note:** Required if *isAirTravel* is *true*.
    + origin (string) - This is the airport code of the originating airport. **Note:** Required if *isAirTravel* is *true*.
    + passengerFirstName (string) - This is the first name of the cardholder from the billing details. **Note:** Required if *isAirTravel* is *true*.
    + passengerLastName (string) - This is the last name of the cardholder from the billing details. **Note:** Required if *isAirTravel* is *true*.

## User Account Details
+ userAccountDetails (object) - These are details of the user account at the merchant website. **Note:** This object can be used if *useThreeDSecureVersion2* is included and set to *true*.
    + addCardAttemptsForLastDay (number) - This is the number of Add Card attempts in the last 24 hours.
    + changedDate (string) - This is the UTC formatted date that the cardholder’s account with the 3DS Requestor was last changed. 
    + changedRange (enum) - This is the length of time between the most recent change to the cardholder’s account information and the API call of the current transaction.
        + DURING_TRANSACTION
        + LESS_THAN_THIRTY_DAYS
        + THIRTY_TO_SIXTY_DAYS
        + MORE_THAN_SIXTY_DAYS
    + createdDate (string) - This is the UTC formatted date when the cardholder opened the account with the 3DS Requestor. 
    + createdRange (enum) - This is the length of time between the cardholder opening the account with the 3DS Requestor and the API call of the current transaction.
        + NO_ACCOUNT
        + DURING_TRANSACTION
        + LESS_THAN_THIRTY_DAYS
        + THIRTY_TO_SIXTY_DAYS
        + MORE_THAN_SIXTY_DAYS
    + passwordChangedDate (string) - This is the UTC formatted date when the cardholder’s account was reset or the password was changed.
    + passwordChangedRange (enum) - This is the length of time between the most recent password change or cardholder account reset and the API call of the current transaction.
        + NO_CHANGE
        + DURING_TRANSACTION
        + LESS_THAN_THIRTY_DAYS
        + THIRTY_TO_SIXTY_DAYS
        + MORE_THAN_SIXTY_DAYS
    + Include Payment Account Details
    + Include Prior 3DS Authentication
    + Include Shipping Details Usage
    + suspiciousAccountActivity (boolean) - This indicates whether the 3DS Requestor has experienced suspicious activity, including previous fraud, on the cardholder account.
    + totalPurchasesSixMonthCount (number) - This is the total number of purchases from this cardholder account in the previous six months.
    + transactionCountForPreviousDay (number) - This is the number of transactions (successful and abandoned) for this cardholder account with the 3D Secure Requestor across all payment accounts in the previous 24 hours.
    + transactionCountForPreviousYear (number) - This is the number of transactions (successful and abandoned) for this cardholder account with the 3D Secure Requestor across all payment accounts in the previous year.
    + Include Travel Details
    + Include User Login 

## User Login
+ userLogin (object) - This is the cardholder login information.
    + authenticationMethod (enum) - This is the mechanism used by the cardholder to authenticate to the 3DS Requestor.
        + NO_LOGIN
        + INTERNAL_CREDENTIALS
        + FEDERATED_ID
        + ISSUER_CREDENTIALS
        + THIRD_PARTY_AUTHENTICATION
        + FIDO_AUTHENTICATOR
    + data (string) - This field is reserved for future iterations of 3D Secure 2.
    + time (string) - This is the UTC formatted date and time of the cardholder authentication.